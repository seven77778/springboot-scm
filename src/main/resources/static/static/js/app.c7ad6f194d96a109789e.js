webpackJsonp([1],{"39w0":function(e,t){},"4Pmg":function(e,t){},"4q4T":function(e,t){},"4vFT":function(e,t){},"55fF":function(e,t){},"6wpt":function(e,t){},"7Fcw":function(e,t){},"8u1c":function(e,t){},"98GE":function(e,t){},"9r9u":function(e,t){},AiEe:function(e,t){},CU1F:function(e,t){},DBCY:function(e,t){},EUtm:function(e,t){},FxnO:function(e,t){},"IO+9":function(e,t){},IX7U:function(e,t){},LCnd:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=o("VU/8")({name:"App"},r,!1,function(e){o("98GE")},null,null).exports,s=o("/ocq"),n={data:function(){return{user:{username:"",password:"",role:"member"},error:""}},methods:{login:function(){var e=this;this.$store.dispatch("loginAction",this.user).then(function(){e.$router.push("/home"),console.log(e.$router)}).catch(function(t){e.error=t,console.log(t)})}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"window"},[o("div",[o("h2",[e._v("用户后台登录")]),e._v(" "),o("form",{staticClass:"Input",attrs:{action:""}},[o("el-input",{staticClass:"mg",attrs:{placeholder:"用户名"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),o("el-input",{staticClass:"mg",attrs:{placeholder:"密码","show-password":""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),o("el-radio",{attrs:{value:"member",label:"member"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},[e._v("工作人员")]),e._v(" "),o("el-radio",{attrs:{value:"customer",label:"customer"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}},[e._v("客户")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),e._v(" "),o("p",{staticClass:"error"},[e._v(e._s(e.error))])],1)])])},staticRenderFns:[]};var c=o("VU/8")(n,i,!1,function(e){o("55fF")},"data-v-588179ca",null).exports,u=o("Dd8w"),p=o.n(u),m=o("NYxO"),d=o("mtWM"),f=o.n(d),h={data:function(){return{time:new Date,inline:"首页"}},mounted:function(){var e=this;this.timer=setInterval(function(){e.time=new Date},1e3)},computed:p()({},Object(m.b)(["user"])),created:function(){console.log("?",this.user)},methods:{a:function(){console.log(this)},logOut:function(){var e=this;f()({url:"/sys/logout ",mothod:"get"}).then(function(t){e.$notify({title:"成功",message:"退出成功",type:"success"}),e.$router.push("/")}).catch(function(e){console.log("异常",e)})}}},g={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-container",[o("el-header",{attrs:{height:"80px"}},[o("img",{attrs:{src:"/static/img/logo.png",alt:""}}),e._v(" "),o("div",[o("span",[o("img",{attrs:{src:"/static/img/user.png",alt:""}}),e._v(e._s(e.user.account))]),e._v(" "),o("span",[e._v("系统时间："+e._s(e._f("dateFormat")(e.time)))])])]),e._v(" "),o("el-container",[o("el-aside",{attrs:{width:"190px"}},[o("el-col",{attrs:{span:12}},[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""}},[o("el-submenu",{attrs:{index:"1"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-grid"}),e._v(" "),o("span",[e._v("管理信息")])]),e._v(" "),o("el-menu-item",{attrs:{index:"/home"},on:{click:function(t){return e.a()}}},[e._v("首页")]),e._v(" "),o("el-menu-item",{attrs:{index:"/user/manager"}},[e._v("用户管理")]),e._v(" "),o("el-menu-item",{on:{click:function(t){return e.logOut()}}},[e._v("退出")])],2),e._v(" "),o("el-submenu",{attrs:{index:"2"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-grid"}),e._v(" "),o("span",[e._v("产品管理")])]),e._v(" "),o("el-menu-item",{attrs:{index:"/sale/category"}},[e._v("产品分类管理")]),e._v(" "),o("el-menu-item",{attrs:{index:"/sale/allgoods"}},[e._v("产品列表")])],2),e._v(" "),o("el-submenu",{attrs:{index:"3"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-grid"}),e._v(" "),o("span",[e._v("采购管理")])]),e._v(" "),o("el-menu-item",{attrs:{index:"/buy/supplier"}},[e._v("供应商管理")]),e._v(" "),o("el-menu-item",{attrs:{index:"/buy/buylist"}},[e._v("新采购管理")]),e._v(" "),o("el-menu-item",{attrs:{index:"/buy/endlist"}},[e._v("采购单了结")]),e._v(" "),o("el-menu-item",{attrs:{index:"/buy/query"}},[e._v("采购单查询")])],2),e._v(" "),o("el-submenu",{attrs:{index:"4"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-grid"}),e._v(" "),o("span",[e._v("仓管管理")])]),e._v(" "),o("el-menu-item",{attrs:{index:"/warehouse/register"}},[e._v("入库登记")]),e._v(" "),o("el-menu-item",{attrs:{index:"/warehouse/out"}},[e._v("出库登记")]),e._v(" "),o("el-menu-item",{attrs:{index:"/warehouse/queryhouse"}},[e._v("库存查询")]),e._v(" "),o("el-menu-item",{attrs:{index:"/warehouse/check"}},[e._v("库存盘点")])],2),e._v(" "),o("el-submenu",{attrs:{index:"5"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-grid"}),e._v(" "),o("span",[e._v("销售管理")])]),e._v(" "),o("el-menu-item",{attrs:{index:"/sale/customer"}},[e._v("客户管理")]),e._v(" "),o("el-menu-item",{attrs:{index:"/sale/salelist"}},[e._v("新添销售单")]),e._v(" "),o("el-menu-item",{attrs:{index:"/sale/oversale"}},[e._v("销售单了结")]),e._v(" "),o("el-menu-item",{attrs:{index:"/sale/salequery"}},[e._v("销售单查询")])],2),e._v(" "),o("el-submenu",{attrs:{index:"6"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-grid"}),e._v(" "),o("span",[e._v("财务收支")])]),e._v(" "),o("el-menu-item",{attrs:{index:"/pay/income"}},[e._v("收款登记")]),e._v(" "),o("el-menu-item",{attrs:{index:"/pay/payrecord"}},[e._v("付款登记")]),e._v(" "),o("el-menu-item",{attrs:{index:"/pay/indexof"}},[e._v("收支查询")])],2),e._v(" "),o("el-submenu",{attrs:{index:"7"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-s-grid"}),e._v(" "),o("span",[e._v("月度报表")])]),e._v(" "),o("el-menu-item",{attrs:{index:"/report/poreport"}},[e._v("月度采购报表")]),e._v(" "),o("el-menu-item",{attrs:{index:"/report/soreport"}},[e._v("月度销售报表")]),e._v(" "),o("el-menu-item",{attrs:{index:"/report/outreport"}},[e._v("月度出库报表")]),e._v(" "),o("el-menu-item",{attrs:{index:"/report/inreport"}},[e._v("月度入库报表")]),e._v(" "),o("el-menu-item",{attrs:{index:"/report/storereport"}},[e._v("月度库存报表")]),e._v(" "),o("el-menu-item",{attrs:{index:"/report/payreport"}},[e._v("月度收支报表")])],2)],1)],1)],1),e._v(" "),o("el-main",[o("p",{staticClass:"maintop"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页 ")]),o("el-breadcrumb-item",[e._v(e._s(e.$route.meta.title))])],1)],1),e._v(" "),o("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var v=o("VU/8")(h,g,!1,function(e){o("dx+d")},"data-v-160d6376",null).exports,b={data:function(){return{user:{},see:1,page:1,currPage:1,deleteuser:{account:"",page:""},form:{account:"",name:"",passWord:"",createDate:"",status:"0",modelcodes:[]},rule:{account:[{required:!0,message:"请输入账号！",trigger:"blur"},{min:3,max:30,message:"长度在 3 到 30 个字符",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],passWord:[{required:!0,message:"密码不能为空",trigger:"blur"}],status:[{required:!0,message:"请选择至少一个",trigger:"blur"}],modelcodes:[{type:"array",required:!0,message:"请选择至少一个",trigger:"blur"}]}}},methods:{handleClick:function(e){var t=this;confirm("确认删除？")&&(this.deleteuser.account=e.account,this.deleteuser.page=this.page,this.$store.dispatch("deleteAction",this.deleteuser).then(function(){f()({url:"/main/system/user/show",mothod:"get",params:{page:t.page}}).then(function(e){t.user=e.data,console.log("11",t.user.pages)}).catch(function(e){console.log("没取到",e)}),t.$notify({title:"成功",message:"删除成功",type:"success"}),t.see=1}).catch(function(e){t.error=e,console.log(e)}))},requestLocal:function(){var e=this;f()({url:"/main/system/user/show",mothod:"get",params:{page:this.page}}).then(function(t){e.user=t.data,console.log("11",e.user.pages)}).catch(function(e){console.log("没取到",e)})},edit:function(e){console.log("obj=",e),this.see=0,this.form.account=e.account,this.form.name=e.name,this.form.passWord=e.passWord,this.form.createDate=e.createDate},back:function(){this.see=1},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$store.dispatch("changeAction",t.form).then(function(){f()({url:"/main/system/user/show",mothod:"get",params:{page:t.page}}).then(function(e){t.user=e.data,console.log("11",t.user.pages)}).catch(function(e){console.log("没取到",e)}),console.log(t.$router),t.$notify({title:"成功",message:"修改成功",type:"success"}),t.see=1}).catch(function(e){t.error=e,alert(t.error)})})},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal()}},y={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.see,expression:"see == 1"}],staticClass:"usermanager"},[o("router-link",{attrs:{to:"/user/adduser"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[e._v("添加")])],1),e._v(" "),o("el-table",{staticStyle:{width:"80%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"用户账号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"用户姓名",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{label:"锁定状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(0==e.user.list[t.$index].status?"未锁定":"锁定"))]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"createDate",label:"添加日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{label:"用户权限",width:"260","font-size":"6px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.models,function(t,a){return o("span",{key:a,staticStyle:{"font-size":"12px"}},[e._v(e._s(t.modelName)+";")])})}}])}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.edit(t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.handleClick(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.see,expression:"see == 0"}]},[o("div",{staticClass:"adduser"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{rules:e.rule,model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"用户账号",prop:"account"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"用户名字",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"用户密码",prop:"passWord"}},[o("el-input",{attrs:{"show-password":""},model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"添加日期"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createDate,callback:function(t){e.$set(e.form,"createDate",t)},expression:"form.createDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"锁定状态",prop:"status"}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("否")])],1),e._v(" "),o("el-form-item",{attrs:{label:"权限",prop:"modelcodes"}},[o("el-checkbox",{attrs:{label:"1"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("采购管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"2"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("销售管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"3"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("系统管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"4"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("财务管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"5"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("仓库管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"6"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("业务报表")])],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("修改")]),e._v(" "),o("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1)],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("基本信息")])])}]};var _=o("VU/8")(b,y,!1,function(e){o("7Fcw")},"data-v-2ba066bb",null).exports,w={data:function(){return{time:new Date}},computed:p()({},Object(m.b)(["user"])),created:function(){console.log("登录的用户信息：",this.user)}},k={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"index"},[o("p",[o("img",{attrs:{src:"/static/img/sun.png",alt:""}}),e._v("  "+e._s(e.user.account)+"早上好，欢迎使用信息系统")]),e._v(" "),o("p",[o("img",{attrs:{src:"/static/img/time.png",alt:""}}),e._v(" 您登录的时间："+e._s(e._f("dateFormat")(e.time)))])])},staticRenderFns:[]};var x=o("VU/8")(w,k,!1,function(e){o("IX7U")},"data-v-d8ac084c",null).exports;function T(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in o)if(new RegExp("("+a+")").test(t)){var r=o[a]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?r:C(r))}return t}function C(e){return("00"+e).substr(e.length)}var $={data:function(){return{form:{account:"",name:"",passWord:"",createDate:"",status:"0",modelcodes:[]},rule:{account:[{required:!0,message:"请输入账号！",trigger:"blur"},{min:3,max:30,message:"长度在 3 到 30 个字符",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],passWord:[{required:!0,message:"密码不能为空",trigger:"blur"}],status:[{required:!0,message:"请选择至少一个",trigger:"blur"}],modelcodes:[{type:"array",required:!0,message:"请选择至少一个",trigger:"change"}]}}},methods:{addpassword:function(){console.log(1),this.form.passWord=this.form.account},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$store.dispatch("addAction",t.form).then(function(){t.$notify({title:"添加成功",type:"success"}),t.$router.push("/user/manager")}).catch(function(e){t.error=e,alert(t.error)})})},goback:function(){this.$router.push("/user/manager")}},created:function(){this.form.createDate=T(new Date,"yyyy-MM-dd hh:mm:ss")}},q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"adduser"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"用户账号",prop:"account"}},[o("el-input",{on:{change:e.addpassword},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"用户名字",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"用户密码",prop:"passWord"}},[o("el-input",{attrs:{"show-password":""},model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"添加日期"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createDate,callback:function(t){e.$set(e.form,"createDate",t)},expression:"form.createDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"锁定状态",prop:"status"}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._v("否")])],1),e._v(" "),o("el-form-item",{attrs:{label:"权限",prop:"modelcodes"}},[o("el-checkbox",{attrs:{label:"1"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("采购管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"2"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("销售管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"3"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("系统管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"4"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("财务管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"5"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("仓库管理")]),e._v(" "),o("el-checkbox",{attrs:{label:"6"},model:{value:e.form.modelcodes,callback:function(t){e.$set(e.form,"modelcodes",t)},expression:"form.modelcodes"}},[e._v("业务报表")])],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),e._v(" "),o("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("基本信息")])])}]};var S=o("VU/8")($,q,!1,function(e){o("xR/0")},"data-v-bd81aa3c",null).exports,I={data:function(){return{good:{},page:1,currPage:1,see:1,form:{productCode:"",name:"",unitName:"",categoryId:"",price:0,createDate:"",remark:""},queryform:{productCode:"",name:"",categoryId:""},getproduct:{},rule:{productCode:[{required:!0,message:"请输入账号！",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"},{pattern:/^[A-Za-z0-9]+$/,message:"只允许数字和字母",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"},{max:100,message:"不超过100个字符",trigger:"blur"}],unitName:[{required:!0,message:"单位不能为空",trigger:"blur"}],categoryId:[{required:!0,message:"分类不能为空",trigger:"change"}]},delform:{productCode:"",page:""}}},methods:{query:function(){console.log(this.queryform),this.requestLocal()},product:function(){var e=this;f()({url:"/main/sell/category/all",mothod:"get"}).then(function(t){e.getproduct=t.data,console.log(e.getproduct)}).catch(function(e){console.log("没取到",e)})},requestLocal:function(){var e=this;f()({url:"/main/sell/product/show",mothod:"get",params:{page:this.page,productCode:this.queryform.productCode,name:this.queryform.name,categoryId:this.queryform.categoryId}}).then(function(t){e.good=t.data,console.log("这一页",e.good)}).catch(function(e){console.log("没取到",e)})},change:function(e){this.see=0,this.form=e},onSubmit:function(){var e=this;this.$store.dispatch("changepAction",this.form).then(function(){e.requestLocal(),e.$notify({title:"成功",message:"修改成功",type:"success"}),e.see=1}).catch(function(t){e.error=t,console.log(t)})},back:function(){this.see=1},del:function(e){var t=this;confirm("确认删除？")&&(this.delform.productCode=e.row.productCode,this.delform.page=e._self.page,this.$store.dispatch("delpAction",this.delform).then(function(){t.requestLocal(),t.$notify({title:"成功",message:"删除成功",type:"success"})}).catch(function(e){t.error=e,t.$notify.error({title:"失败",type:"success"})}))},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal(),this.product()}},F={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.see,expression:"see == 1"}],staticClass:"allgoods"},[o("router-link",{attrs:{to:"/sale/addgood"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[e._v("添加")])],1),e._v(" "),o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryform}},[o("el-form-item",{attrs:{label:"产品编号"}},[o("el-input",{model:{value:e.queryform.productCode,callback:function(t){e.$set(e.queryform,"productCode",t)},expression:"queryform.productCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"产品名称"}},[o("el-input",{model:{value:e.queryform.name,callback:function(t){e.$set(e.queryform,"name",t)},expression:"queryform.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"产品类别"}},[o("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.queryform.categoryId,callback:function(t){e.$set(e.queryform,"categoryId",t)},expression:"queryform.categoryId"}},e._l(e.getproduct,function(t){return o("el-option",{key:t.categoryId,attrs:{value:t.categoryId}},[e._v(e._s(t.name))])}),1)],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")])],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.good.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productCode",label:"产品编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"产品名称",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"数量单位",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"categoryName",label:"分类名称",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createDate",label:"添加日期",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{prop:"price",label:"销售价格",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"产品描述",width:"240"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.change(t.row)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.del(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.good.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.see,expression:"see==0"}]},[o("div",{staticClass:"addproduct"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"产品编号"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.productCode,callback:function(t){e.$set(e.form,"productCode",t)},expression:"form.productCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"数量单位",prop:"unitName"}},[o("el-input",{model:{value:e.form.unitName,callback:function(t){e.$set(e.form,"unitName",t)},expression:"form.unitName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"分类编号",prop:"categoryId"}},[[o("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.categoryId,callback:function(t){e.$set(e.form,"categoryId",t)},expression:"form.categoryId"}},e._l(e.getproduct,function(t){return o("el-option",{key:t.categoryId,attrs:{value:t.categoryId}},[e._v(e._s(t.name))])}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"销售价"}},[o("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"添加日期"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createDate,callback:function(t){e.$set(e.form,"createDate",t)},expression:"form.createDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"描述"}},[o("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改")]),e._v(" "),o("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1)],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("基本信息")])])}]};var P=o("VU/8")(I,F,!1,function(e){o("OPNI")},"data-v-2c105eec",null).exports,D={data:function(){return{form:{productCode:"",name:"",unitName:"",categoryId:"",price:0,createDate:"",remark:""},getproduct:{},rule:{productCode:[{required:!0,message:"请输入账号！",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"},{pattern:/^[A-Za-z0-9]+$/,message:"只允许数字和字母",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"},{max:100,message:"不超过100个字符",trigger:"blur"}],unitName:[{required:!0,message:"单位不能为空",trigger:"blur"}],categoryId:[{required:!0,message:"分类不能为空",trigger:"change"}]}}},methods:{product:function(){var e=this;f()({url:"/main/sell/category/all",mothod:"get"}).then(function(t){e.getproduct=t.data,console.log(e.getproduct)}).catch(function(e){console.log("没取到",e)})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(console.log("表单结果",t.form),t.$store.dispatch("addProduct",t.form).then(function(){t.$router.push("/sale/allgoods"),t.$notify({title:"成功",message:"删除成功",type:"success"})}).catch(function(e){t.error=e,console.log("err",e)}))})},goback:function(){this.$router.push("/sale/allgoods")}},created:function(){this.form.createDate=T(new Date,"yyyy-MM-dd hh:mm:ss")},mounted:function(){this.product()}},N={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"addproduct"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"产品编号",prop:"productCode"}},[o("el-input",{model:{value:e.form.productCode,callback:function(t){e.$set(e.form,"productCode",t)},expression:"form.productCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"产品名字",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"数量单位",prop:"unitName"}},[o("el-input",{model:{value:e.form.unitName,callback:function(t){e.$set(e.form,"unitName",t)},expression:"form.unitName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"分类编号",prop:"categoryId"}},[[o("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.categoryId,callback:function(t){e.$set(e.form,"categoryId",t)},expression:"form.categoryId"}},e._l(e.getproduct,function(t){return o("el-option",{key:t.categoryId,attrs:{value:t.categoryId}},[e._v(e._s(t.name))])}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"销售价"}},[o("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"添加日期"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createDate,callback:function(t){e.$set(e.form,"createDate",t)},expression:"form.createDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"描述"}},[o("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),e._v(" "),o("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("基本信息")])])}]};var V=o("VU/8")(D,N,!1,function(e){o("bo7V")},"data-v-7ec23390",null).exports,L={data:function(){return{allcategory:{},page:1,currPage:1,see:1,form:{categoryId:"",name:"",remark:""},deleteForm:{categoryId:"",page:""},rule:{name:[{required:!0,message:"名称不为空！",trigger:"blur"}]}}},methods:{requestLocal:function(){var e=this;f()({url:"/main/sell/category/show",mothod:"get",params:{page:this.page}}).then(function(t){e.allcategory=t.data,console.log(e.allcategory)}).catch(function(e){console.log("没取到",e)})},change:function(e){console.log(e)},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()},changeMessage:function(e){this.see=0,console.log(e),this.form=e},deleteMessage:function(e){var t=this;confirm("确认删除？")&&(this.deleteForm.categoryId=e.row.categoryId,this.deleteForm.page=e._self.page,this.$store.dispatch("delcAction",this.deleteForm).then(function(){f()({url:"/main/sell/category/show",mothod:"get",params:{page:t.page}}).then(function(e){t.allcategory=e.data,console.log(t.allcategory)}).catch(function(e){console.log("没取到",e)}),t.$notify({title:"成功",message:"删除成功",type:"success"})}).catch(function(e){t.error=e,console.log(e)}))},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$store.dispatch("changecAction",t.form).then(function(){t.requestLocal(),t.$notify({title:"成功",message:"修改成功",type:"success"}),t.see=1}).catch(function(e){t.error=e,console.log(e)})})},back:function(){this.see=1}},mounted:function(){this.requestLocal()}},E={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.see,expression:"see==1"}],staticClass:"category"},[o("router-link",{attrs:{to:"/sale/addcategory"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[e._v("添加")])],1),e._v(" "),o("el-table",{staticStyle:{width:"60%"},attrs:{data:e.allcategory.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"categoryId",label:"分类序列号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"产品类别名称",width:"240"}}),e._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"描述",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.changeMessage(t.row)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.deleteMessage(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.allcategory.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.see,expression:"see==0"}]},[o("div",{staticClass:"changeCategory"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"分类序列号"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.categoryId,callback:function(t){e.$set(e.form,"categoryId",t)},expression:"form.categoryId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"描述"}},[o("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("修改")]),e._v(" "),o("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1)],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("基本信息")])])}]};var M=o("VU/8")(L,E,!1,function(e){o("RoZ4")},"data-v-3fc31ec2",null).exports,R={data:function(){return{form:{name:"",remark:""},rule:{name:[{required:!0,message:"名称不为空！",trigger:"blur"}]}}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(console.log("表单结果",t.form),t.$store.dispatch("addCategory",t.form).then(function(){t.$router.push("/sale/category"),t.$notify({title:"成功",message:"删除成功",type:"success"})}).catch(function(e){t.error=e,console.log(e)}))})},goback:function(){this.$router.push("/sale/category")}}},W={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"addcategory"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"描述"}},[o("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确认保存")]),e._v(" "),o("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("基本信息")])])}]};var z=o("VU/8")(R,W,!1,function(e){o("hLB6")},"data-v-375c68f9",null).exports,A={data:function(){return{see:1,allsupplier:{},page:1,currPage:1,getproduct:{},queryform:{venderCode:"",name:""},deleteForm:{venderCode:""},form:{venderCode:"",name:"",passWord:"",contactor:"",address:"",postCode:"",createDate:"",tel:"",fax:""},rule:{name:[{required:!0,message:"名称不为空！",trigger:"blur"},{max:100,message:"长度不超过100字符",trigger:"blur"}],contactor:[{required:!0,message:"联系人不为空！",trigger:"blur"}],tel:[{required:!0,message:"电话不为空！",trigger:"blur"}],passWord:[{required:!0,message:"密码不为空！",trigger:"change"}]}}},methods:{query:function(){console.log(this.queryform),this.requestLocal()},requestLocal:function(){var e=this;f()({url:"/main/purchase/vender/show",mothod:"get",params:{page:this.page,venderCode:this.queryform.venderCode,name:this.queryform.name}}).then(function(t){e.allsupplier=t.data,console.log(e.allsupplier)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()},onSubmit:function(){var e=this;console.log("表单结果",this.form),this.$store.dispatch("changeSupplier",this.form).then(function(){e.requestLocal(),e.$notify({title:"成功",message:"修改成功",type:"success"}),e.see=1}).catch(function(t){e.error=t,console.log("err",t)})},back:function(){this.see=1},changeMessage:function(e){this.see=0,console.log(e),this.form=e},deleteMessage:function(e){var t=this;confirm("确认删除？")&&(this.deleteForm.venderCode=e.venderCode,this.$store.dispatch("delSupplier",this.deleteForm).then(function(){f()({url:"/main/purchase/vender/show",mothod:"get",params:{page:t.page}}).then(function(e){t.allsupplier=e.data,console.log(t.allsupplier)}).catch(function(e){console.log("没取到",e)}),t.$notify({title:"成功",message:"删除成功",type:"success"}),t.see=1}).catch(function(e){t.error=e,console.log(e)}))}},mounted:function(){this.requestLocal()}},U={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.see,expression:"see==1"}],staticClass:"supplier"},[o("router-link",{attrs:{to:"/buy/addsupplier"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[e._v("添加")])],1),e._v(" "),o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryform}},[o("el-form-item",{attrs:{label:"供应商编号"}},[o("el-input",{model:{value:e.queryform.venderCode,callback:function(t){e.$set(e.queryform,"venderCode",t)},expression:"queryform.venderCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"供应商名称"}},[o("el-input",{model:{value:e.queryform.name,callback:function(t){e.$set(e.queryform,"name",t)},expression:"queryform.name"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")])],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"95%"},attrs:{data:e.allsupplier.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"venderCode",label:"供应商编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"供应商名称",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"contactor",label:"联系人",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"address",label:"地址",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"postCode",label:"邮政编码",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createDate",label:"注册日期",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tel",label:"电话",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"fax",label:"传真",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.changeMessage(t.row)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.deleteMessage(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.allsupplier.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.see,expression:"see==0"}]},[o("div",{staticClass:"addsupplier"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"供应商编号"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.venderCode,callback:function(t){e.$set(e.form,"venderCode",t)},expression:"form.venderCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"供应商名称",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"供应商密码",prop:"passWord"}},[o("el-input",{attrs:{"show-password":""},model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"联系人",prop:"contactor"}},[o("el-input",{model:{value:e.form.contactor,callback:function(t){e.$set(e.form,"contactor",t)},expression:"form.contactor"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址"}},[o("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮政编码"}},[o("el-input",{model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"注册日期"}},[o("el-input",{model:{value:e.form.createDate,callback:function(t){e.$set(e.form,"createDate",t)},expression:"form.createDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话",prop:"tel"}},[o("el-input",{model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"传真"}},[o("el-input",{model:{value:e.form.fax,callback:function(t){e.$set(e.form,"fax",t)},expression:"form.fax"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改")]),e._v(" "),o("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1)],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",{staticClass:"me"},[this._v("基本信息")])])}]};var O=o("VU/8")(A,U,!1,function(e){o("IO+9")},null,null).exports,H={data:function(){return{form:{venderCode:"",name:"",passWord:"",contactor:"",address:"",postCode:"",createDate:"",tel:"",fax:""},rule:{venderCode:[{required:!0,message:"请输入账号！",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"},{pattern:/^[A-Za-z0-9]+$/,message:"只允许数字和字母",trigger:"blur"}],name:[{required:!0,message:"名称不为空！",trigger:"blur"},{max:100,message:"长度不超过100字符",trigger:"blur"}],passWord:[{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"},{required:!0,message:"密码不为空！",trigger:"blur"}],contactor:[{required:!0,message:"联系人不为空！",trigger:"blur"}],tel:[{required:!0,message:"电话不为空！",trigger:"blur"}]}}},methods:{addpassword:function(){console.log(1),this.form.passWord=this.form.venderCode},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(console.log("表单结果",t.form),t.$store.dispatch("addSupplier",t.form).then(function(){t.$notify({title:"成功",message:"添加成功",type:"success"}),t.$router.push("/buy/supplier")}).catch(function(e){t.error=e,console.log("err",e)}))})},goback:function(){this.$router.push("/buy/supplier")}},created:function(){this.form.createDate=T(new Date,"yyyy-MM-dd hh:mm:ss")}},j={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"addsupplier"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"供应商编号",prop:"venderCode"}},[o("el-input",{on:{change:e.addpassword},model:{value:e.form.venderCode,callback:function(t){e.$set(e.form,"venderCode",t)},expression:"form.venderCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"供应商名称",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"供应商密码",prop:"passWord"}},[o("el-input",{attrs:{"show-password":""},model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"联系人",prop:"contactor"}},[o("el-input",{model:{value:e.form.contactor,callback:function(t){e.$set(e.form,"contactor",t)},expression:"form.contactor"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址"}},[o("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮政编码"}},[o("el-input",{model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"添加日期"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createDate,callback:function(t){e.$set(e.form,"createDate",t)},expression:"form.createDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话",prop:"tel"}},[o("el-input",{model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"传真"}},[o("el-input",{model:{value:e.form.fax,callback:function(t){e.$set(e.form,"fax",t)},expression:"form.fax"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),e._v(" "),o("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("基本信息")])])}]};var Z=o("VU/8")(H,j,!1,function(e){o("4Pmg")},"data-v-9c551e6c",null).exports,Y={data:function(){return{detail:[],buylist:{},page:1,currPage:1,see:1,type:1,status:1,queryform:{poId:"",venderCode:"",payType:"",startDate:"",endDate:""},form:{poId:"",venderCode:"",account:"",createTime:"",tipFee:0,productTotal:"",poTotal:"",payType:"",prePayFee:0,status:1,remark:"",poitems:[]},rule:{venderCode:[{required:!0,message:"请选择供应商！",trigger:"change"}],payType:[{required:!0,message:"请选择付款方式",trigger:"change"}],status:[{required:!0,message:"请选择处理状态！",trigger:"change"}],poTotal:[{required:!0,message:"请添加明细",trigger:"change"}],tipFee:[{required:!0,message:"附加费用不能为空至少为非负数",trigger:"blur"}]},delform:{poId:"",page:""},getsupplier:{},getproduct:{}}},filters:{sta:function(e){return 1==e?"新增":2==e?"已收货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}},methods:{addfee:function(){""!==this.form.poTotal&&(this.form.poTotal=parseFloat(this.form.tipFee)+parseFloat(this.form.productTotal))},changeunit:function(e){var t=this;console.log(e),f()({url:"/main/sell/product/show",mothod:"get",params:{productCode:e.productCode}}).then(function(o){t.gets=o.data,e.unitName=t.gets.list[0].unitName,console.log(e),console.log(t.gets.list)}).catch(function(e){console.log("没取到",e)})},pricechange:function(e){e.unitPrice&&e.num&&(console.log(e),e.itemPrice=parseFloat(e.unitPrice)*e.num,console.log(e.itemPrice),this.payAll())},payAll:function(){var e=0;console.log("this",this.form.poitems);for(var t=this.form.poitems.length-1;t>=0;t--)e+=this.form.poitems[t].itemPrice;console.log("total",e),this.form.productTotal=parseFloat(e),this.form.poTotal=parseFloat(e)+parseFloat(this.form.tipFee)},query:function(){console.log(this.queryform),this.requestLocal()},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(console.log(t.form),t.$store.dispatch("updateList",t.form).then(function(){t.requestLocal(),t.$notify({title:"成功",message:"修改成功",type:"success"}),t.see=1}).catch(function(e){t.error=e,console.log("err",e)}))})},dellist:function(e){var t=this;confirm("确认删除吗？")&&(this.delform.poId=e.row.poId,this.delform.page=e._self.page,console.log(this.delform),this.$store.dispatch("delList",this.delform).then(function(){t.$notify({title:"成功",message:"删除成功",type:"success"}),t.requestLocal()}).catch(function(e){t.error=e,console.log("err",e)}))},requestLocal:function(){var e=this;f()({url:"/main/purchase/pomain/show",mothod:"get",params:{page:this.page,type:this.type}}).then(function(t){e.buylist=t.data,console.log(e.buylist)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()},back:function(){this.see=1},adddetail:function(){this.form.poitems.push(this.detailform)},addData:function(){this.form.poitems.push({edit:!0,unitPrice:"",productCode:"",num:"",itemPrice:"",unitName:""})},confirmAdd:function(e){e.edit=!1},editData:function(e){e.edit=!0},deleteData:function(e,t){e.itemPrice&&(this.form.poTotal-=e.itemPrice,this.form.productTotal-=e.itemPrice),this.form.poitems.splice(t,1)},changeList:function(e){var t=this;this.see=2,this.form=e,f()({url:"/main/purchase/pomain/queryItem",mothod:"get",params:{poId:e.poId}}).then(function(e){t.detail=e.data,t.form.poitems=t.detail,console.log(t.changelist),console.log(t.detail)}).catch(function(e){console.log("没取到",e)})},poDetail:function(e){var t=this;this.see=0,console.log(e),f()({url:"/main/purchase/pomain/queryItem",mothod:"get",params:{poId:e.poId}}).then(function(e){t.detail=e.data,console.log(t.detail)}).catch(function(e){console.log("没取到",e)})},supplier:function(){var e=this;f()({url:"/main/purchase/vender/all",mothod:"get"}).then(function(t){e.getsupplier=t.data,console.log(e.getsupplier)}).catch(function(e){console.log("没取到",e)})},getproducts:function(){var e=this;f()({url:"/main/sell/product/all",mothod:"get"}).then(function(t){e.getproduct=t.data,console.log(e.getproducts)}).catch(function(e){console.log("没取到",e)})}},mounted:function(){this.requestLocal(),this.supplier(),this.getproducts()},computed:p()({},Object(m.b)(["user"]))},B={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.see,expression:"see==1"}],staticClass:"category"},[o("router-link",{attrs:{to:"/buy/addbuylist"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[e._v("添加")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.buylist.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poId",label:"采购单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"venderName",label:"供应商名称",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poTotal",label:"采购总价格",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("typ")(t.row.payType)))]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"prePayFee",label:"最低预付金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.changeList(t.row)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.poDetail(t.row)}}},[e._v("查看")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.dellist(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.buylist.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.see,expression:"see==0"}],staticClass:"detaile"},[o("el-table",{staticStyle:{width:"69%"},attrs:{data:this.detail,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poId",label:"产品编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productName",label:"产品名称",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"num",label:"产品数量",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"数量单位",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"unitPrice",label:"采购单价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"itemPrice",label:"采购明细总价",width:"120"}})],1),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.back}},[e._v("返回")])],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:2==e.see,expression:"see==2"}],staticClass:"addproduct"},[o("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,rules:e.rule,model:e.form}},[o("el-form-item",{attrs:{label:"采购单编号"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.poId,callback:function(t){e.$set(e.form,"poId",t)},expression:"form.poId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"供应商",prop:"venderCode"}},[[o("el-select",{attrs:{placeholder:"请选择供货商"},model:{value:e.form.venderCode,callback:function(t){e.$set(e.form,"venderCode",t)},expression:"form.venderCode"}},e._l(e.getsupplier,function(t){return o("el-option",{key:t.venderCode,attrs:{value:t.venderCode}},[e._v(e._s(t.name))])}),1)]],2),e._v(" "),o("el-form-item",{staticStyle:{margin:"0 15px"},attrs:{label:"付款方式",prop:"payType"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},[o("el-option",{attrs:{label:"货到付款",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"款到发货",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"预付款到货",value:"3"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"创建用户"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"15px"},attrs:{label:"创建时间"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"13px"},attrs:{label:"附加费用",prop:"tipFee"}},[o("el-input",{attrs:{value:"0"},on:{input:e.addfee},model:{value:e.form.tipFee,callback:function(t){e.$set(e.form,"tipFee",t)},expression:"form.tipFee"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"15px"},attrs:{label:"产品总价"}},[o("el-input",{attrs:{readonly:""},model:{value:e.form.productTotal,callback:function(t){e.$set(e.form,"productTotal",t)},expression:"form.productTotal"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"18px"},attrs:{label:"采购产品总价",prop:"poTotal"}},[o("el-input",{attrs:{readonly:""},model:{value:e.form.poTotal,callback:function(t){e.$set(e.form,"poTotal",t)},expression:"form.poTotal"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"43px"},attrs:{label:"备注"}},[o("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"最低预付款"}},[o("el-input",{attrs:{value:"0"},model:{value:e.form.prePayFee,callback:function(t){e.$set(e.form,"prePayFee",t)},expression:"form.prePayFee"}})],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form.poitems,border:"",stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),o("el-table-column",{attrs:{label:"产品编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{placeholder:"产品编号"},on:{change:function(o){return e.changeunit(t.row)}},model:{value:t.row.productCode,callback:function(o){e.$set(t.row,"productCode",o)},expression:"scope.row.productCode"}},e._l(e.getproduct,function(t){return o("el-option",{key:t.productCode,attrs:{value:t.productCode}},[e._v(e._s(t.name))])}),1)]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"unitPrice",label:"产品单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"产品单价"},on:{input:function(o){return e.pricechange(t.row)}},model:{value:t.row.unitPrice,callback:function(o){e.$set(t.row,"unitPrice",o)},expression:"scope.row.unitPrice"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"num",label:"产品数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"产品数量"},on:{input:function(o){return e.pricechange(t.row)}},model:{value:t.row.num,callback:function(o){e.$set(t.row,"num",o)},expression:"scope.row.num"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"数量单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"数量单位",readonly:""},model:{value:t.row.unitName,callback:function(o){e.$set(t.row,"unitName",o)},expression:"scope.row.unitName"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"itemPrice",label:"明细总价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"明细总价",readonly:""},model:{value:t.row.itemPrice,callback:function(o){e.$set(t.row,"itemPrice",o)},expression:"scope.row.itemPrice"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.confirmAdd(t.row)}}},[o("i",{staticClass:"el-icon-check",attrs:{"aria-hidden":"true"}})]):o("div",[o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.editData(t.row)}}}),e._v(" "),o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.deleteData(t.row,t.$index)}}},[o("i",{staticClass:"el-icon-delete",attrs:{"aria-hidden":"true"}})])],1)]}}])})],1),e._v(" "),o("el-button",{attrs:{type:"text"},on:{click:e.addData}},[e._v("添加明细")]),e._v(" "),o("el-divider"),e._v(" "),o("el-button",{on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),e._v(" "),o("el-button",{on:{click:e.back}},[e._v("取消")])],1)])},staticRenderFns:[]};var J=o("VU/8")(Y,B,!1,function(e){o("6wpt")},"data-v-7986d965",null).exports,X={data:function(){return{form:{poId:"",venderCode:"",account:"",createTime:"",tipFee:0,productTotal:"",poTotal:"",payType:"",prePayFee:0,status:1,remark:"",poitems:[]},rule:{venderCode:[{required:!0,message:"请选择供应商！",trigger:"change"}],payType:[{required:!0,message:"请选择付款方式",trigger:"change"}],status:[{required:!0,message:"请选择处理状态！",trigger:"change"}],poTotal:[{required:!0,message:"请添加明细",trigger:"change"}],tipFee:[{required:!0,message:"附加费用不能为空至少为非负数",trigger:"blur"}]},getsupplier:{},getproduct:[],gets:{}}},methods:{addfee:function(){""!==this.form.poTotal&&(this.form.poTotal=parseFloat(this.form.tipFee)+parseFloat(this.form.productTotal))},changeunit:function(e){var t=this;console.log(e),f()({url:"/main/sell/product/show",mothod:"get",params:{productCode:e.productCode}}).then(function(o){t.gets=o.data,e.unitName=t.gets.list[0].unitName,console.log(e),console.log(t.gets.list)}).catch(function(e){console.log("没取到",e)})},pricechange:function(e){e.unitPrice&&e.num&&(console.log(e),e.itemPrice=parseFloat(e.unitPrice)*e.num,console.log(e.itemPrice),this.payAll())},payAll:function(){var e=0;console.log("this",this.form.poitems);for(var t=this.form.poitems.length-1;t>=0;t--)e+=this.form.poitems[t].itemPrice;console.log("total",e),this.form.productTotal=parseFloat(e),this.form.poTotal=parseFloat(e)+parseFloat(this.form.tipFee)},selectProduct:function(e){console.log("obj=",e)},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(console.log(t.form),t.$store.dispatch("addDetail",t.form).then(function(){t.$router.push("/buy/buylist"),t.$notify({title:"成功",message:"添加成功",type:"success"})}).catch(function(e){t.error=e,console.log("err",e)}))})},adddetail:function(){this.form.poitems.push(this.detailform)},addData:function(){this.form.poitems.push({edit:!0,unitPrice:"",productCode:"",num:"",itemPrice:"",unitName:""})},confirmAdd:function(e){e.edit=!1},editData:function(e){e.edit=!0},deleteData:function(e,t){e.itemPrice&&(this.form.poTotal-=e.itemPrice,this.form.productTotal-=e.itemPrice),this.form.poitems.splice(t,1)},supplier:function(){var e=this;f()({url:"/main/purchase/vender/all",mothod:"get"}).then(function(t){e.getsupplier=t.data,console.log(e.getsupplier)}).catch(function(e){console.log("没取到",e)})},getproducts:function(){var e=this;f()({url:"/main/sell/product/all",mothod:"get"}).then(function(t){e.getproduct=t.data,console.log("this?",e.getproduct)}).catch(function(e){console.log("没取到",e)})},submitData:function(){console.log(this.form)},goback:function(){this.$router.push("/buy/buylist")}},mounted:function(){this.form.createTime=T(new Date,"yyyy-MM-dd hh:mm:ss"),this.form.poId=T(new Date,"yyyyMMddhhmmss"),this.form.account=this.user.account,this.supplier(),this.getproducts()},computed:p()({},Object(m.b)(["user"]))},G={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"addproduct"},[o("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,rules:e.rule,model:e.form}},[o("el-form-item",{attrs:{label:"采购单编号"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.poId,callback:function(t){e.$set(e.form,"poId",t)},expression:"form.poId"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"28px"},attrs:{label:"供应商",prop:"venderCode"}},[[o("el-select",{attrs:{placeholder:"请选择供货商"},model:{value:e.form.venderCode,callback:function(t){e.$set(e.form,"venderCode",t)},expression:"form.venderCode"}},e._l(e.getsupplier,function(t){return o("el-option",{key:t.venderCode,attrs:{value:t.venderCode}},[e._v(e._s(t.name))])}),1)]],2),e._v(" "),o("el-form-item",{staticStyle:{margin:"0 22px"},attrs:{label:"付款方式",prop:"payType"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},[o("el-option",{attrs:{label:"货到付款",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"款到发货",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"预付款到货",value:"3"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"创建用户"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"15px"},attrs:{label:"创建时间"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"23px"},attrs:{label:"附加费用",prop:"tipFee"}},[o("el-input",{attrs:{value:"0"},on:{input:e.addfee},model:{value:e.form.tipFee,callback:function(t){e.$set(e.form,"tipFee",t)},expression:"form.tipFee"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"40px"},attrs:{label:"产品总价"}},[o("el-input",{attrs:{readonly:""},model:{value:e.form.productTotal,callback:function(t){e.$set(e.form,"productTotal",t)},expression:"form.productTotal"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"-15px"},attrs:{label:"采购产品总价",prop:"poTotal"}},[o("el-input",{attrs:{readonly:""},model:{value:e.form.poTotal,callback:function(t){e.$set(e.form,"poTotal",t)},expression:"form.poTotal"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"38px"},attrs:{label:"备注"}},[o("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"30px"},attrs:{label:"最低预付款"}},[o("el-input",{attrs:{value:"0",readonly:""},model:{value:e.form.prePayFee,callback:function(t){e.$set(e.form,"prePayFee",t)},expression:"form.prePayFee"}})],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form.poitems,border:"",stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),o("el-table-column",{attrs:{label:"产品编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{placeholder:"产品编号"},on:{change:function(o){return e.changeunit(t.row)}},model:{value:t.row.productCode,callback:function(o){e.$set(t.row,"productCode",o)},expression:"scope.row.productCode"}},e._l(e.getproduct,function(a){return o("el-option",{key:a.produtCode,attrs:{value:a.productCode,readonly:""},on:{click:function(o){return e.selectProduct(t.$index)}}},[e._v(e._s(a.name))])}),1)]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"unitPrice",label:"产品单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"产品单价"},on:{input:function(o){return e.pricechange(t.row)}},model:{value:t.row.unitPrice,callback:function(o){e.$set(t.row,"unitPrice",o)},expression:"scope.row.unitPrice"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"num",label:"产品数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"产品数量"},on:{input:function(o){return e.pricechange(t.row)}},model:{value:t.row.num,callback:function(o){e.$set(t.row,"num",o)},expression:"scope.row.num"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"数量单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"数量单位",readonly:""},model:{value:t.row.unitName,callback:function(o){e.$set(t.row,"unitName",o)},expression:"scope.row.unitName"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"itemPrice",label:"明细总价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{readonly:"",placeholder:"明细总价"},model:{value:t.row.itemPrice,callback:function(o){e.$set(t.row,"itemPrice",o)},expression:"scope.row.itemPrice"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.confirmAdd(t.row)}}},[o("i",{staticClass:"el-icon-check",attrs:{"aria-hidden":"true"}})]):o("div",[o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.editData(t.row)}}}),e._v(" "),o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.deleteData(t.row,t.$index)}}},[o("i",{staticClass:"el-icon-delete",attrs:{"aria-hidden":"true"}})])],1)]}}])})],1),e._v(" "),o("el-button",{attrs:{type:"text"},on:{click:e.addData}},[e._v("添加明细")]),e._v(" "),o("el-divider"),e._v(" "),o("el-button",{on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),e._v(" "),o("el-button",{on:{click:e.goback}},[e._v("取消")])],1)},staticRenderFns:[]};var Q=o("VU/8")(X,G,!1,function(e){o("39w0")},"data-v-fc152d50",null).exports,K={data:function(){return{user:{},page:1,currPage:1,form:{poId:"",startDate:"",endDate:"",status:"",payType:"",venderCode:""},getsupplier:{}}},filters:{sta:function(e){return 1==e?"新增":2==e?"已收货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}},methods:{supplier:function(){var e=this;f()({url:"/main/purchase/vender/all",mothod:"get"}).then(function(t){e.getsupplier=t.data,console.log(e.getsupplier)}).catch(function(e){console.log("没取到",e)})},onSubmit:function(){var e=this;console.log(this.form),f()({url:"/main/purchase/pomain/query",mothod:"get",params:{poId:this.form.poId,startDate:""===this.form.startDate?"":T(this.form.startDate,"yyyy-MM-dd hh:mm:ss"),endDate:""===this.form.endDate?"":T(this.form.endDate,"yyyy-MM-dd hh:mm:ss"),status:this.form.status,page:this.page,payType:this.form.payType,venderCode:this.form.venderCode}}).then(function(t){e.user=t.data,console.log("11",e.user)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.onSubmit()}},mounted:function(){this.supplier()}},ee={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",{attrs:{label:"采购订单号"}},[o("el-input",{attrs:{placeholder:"单号"},model:{value:e.form.poId,callback:function(t){e.$set(e.form,"poId",t)},expression:"form.poId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"起始时间 | 结束时间"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.startDate,callback:function(t){e.$set(e.form,"startDate",t)},expression:"form.startDate"}}),e._v(" "),o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"处理状态"}},[o("el-select",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[o("el-option",{attrs:{label:"新增",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"已入库",value:"2"}},[e._v("已入库")]),e._v(" "),o("el-option",{attrs:{label:"已付款",value:"3"}},[e._v("已付款")]),e._v(" "),o("el-option",{attrs:{label:"已完结",value:"4"}},[e._v("已完结")]),e._v(" "),o("el-option",{attrs:{label:"已预付",value:"5"}},[e._v("已预付")])],1)],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"28px"},attrs:{label:"供应商",prop:"venderCode"}},[[o("el-select",{attrs:{placeholder:"请选择供货商"},model:{value:e.form.venderCode,callback:function(t){e.$set(e.form,"venderCode",t)},expression:"form.venderCode"}},e._l(e.getsupplier,function(t){return o("el-option",{key:t.venderCode,attrs:{value:t.venderCode}},[e._v(e._s(t.name)+"--"+e._s(t.venderCode))])}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"付款方式"}},[o("el-select",{model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},[o("el-option",{attrs:{label:"货到付款",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"款到发货",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"预付款到发货",value:"3"}})],1)],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poId",label:"采购单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"198"}}),e._v(" "),o("el-table-column",{attrs:{prop:"venderName",label:"供应商名字",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"采购产品总价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poTotal",label:"采购总价格",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n             "+e._s(e._f("typ")(t.row.payType))+"\n          ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n             "+e._s(e._f("sta")(t.row.status))+"\n          ")]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)},staticRenderFns:[]};var te=o("VU/8")(K,ee,!1,function(e){o("4q4T")},"data-v-3a60de3a",null).exports,oe={data:function(){return{payType:1,status:3,page:1,currPage:1,dialogTableVisible:!1,endlist:{},dlist:[],poId:"",end:{poId:"",payType:"",page:""}}},filters:{sta:function(e){return 1==e?"新增":2==e?"已收货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}},methods:{over:function(e){var t=this;confirm("确认了结吗？")&&(console.log(e),this.end.poId=e.row.poId,this.end.payType=e.row.payType,this.end.page=e._self.page,console.log(this.end),this.$store.dispatch("endAction",this.end).then(function(){t.$notify({title:"成功",message:"了结成功",type:"success"}),t.requestLocal()}).catch(function(e){t.error=e,console.log("err",e)}))},detail:function(e){var t=this;this.poId=e.poId,f()({url:"/main/purchase/pomain/queryItem",mothod:"get",params:{poId:this.poId}}).then(function(e){t.dlist=e.data,console.log(t.dlist),t.dialogTableVisible=!0}).catch(function(e){console.log("没取到",e)}),this.dialogTableVisible=!0},requestLocal:function(){var e=this;f()({url:"/main/purchase/pomain/query",mothod:"get",params:{payType:this.payType,page:this.page,status:this.status}}).then(function(t){e.endlist=t.data,console.log(e.endlist)}).catch(function(e){console.log("没取到",e)})},goodfirst:function(){var e=this;this.payType=1,this.status=3,f()({url:"/main/purchase/pomain/query",mothod:"get",params:{payType:this.payType,page:this.page,status:this.status}}).then(function(t){e.endlist=t.data,console.log(e.endlist)}).catch(function(e){console.log("没取到",e)})},moneyfirst:function(){var e=this;this.payType=2,this.status=2,f()({url:"/main/purchase/pomain/query",mothod:"get",params:{payType:this.payType,page:this.page,status:this.status}}).then(function(t){e.endlist=t.data,console.log(e.endlist)}).catch(function(e){console.log("没取到",e)})},premoneyfirst:function(){var e=this;this.payType=3,this.status=3,f()({url:"/main/purchase/pomain/query",mothod:"get",params:{payType:this.payType,page:this.page,status:this.status}}).then(function(t){e.endlist=t.data,console.log(e.endlist)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal()}},ae={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("el-button-group",[o("el-button",{attrs:{type:"primary"},on:{click:e.goodfirst}},[e._v("货到付款")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.moneyfirst}},[e._v("款到发货")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.premoneyfirst}},[e._v("预付款发货")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.endlist.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poId",label:"采购单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"venderName",label:"供应商名字",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"110"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"产品购物总价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poTotal",label:"采购单总价",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("typ")(t.row.payType)))]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"prePayFee",label:"最低预付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("sta")(t.row.status)))]}}])}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.detail(t.row)}}},[e._v("详情")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.over(t)}}},[e._v("了结")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"详情",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-table",{attrs:{data:e.dlist}},[o("el-table-column",{attrs:{property:"poId",label:"供货商编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{property:"productCode",label:"产品编号"}}),e._v(" "),o("el-table-column",{attrs:{property:"productName",label:"产品名字"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitPrice",label:"产品单价"}}),e._v(" "),o("el-table-column",{attrs:{property:"num",label:"产品数量"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitName",label:"数量单位"}}),e._v(" "),o("el-table-column",{attrs:{property:"itemPrice",label:"明细总价"}})],1)],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.endlist.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)},staticRenderFns:[]};var re=o("VU/8")(oe,ae,!1,function(e){o("DBCY")},"data-v-ce9b2c0c",null).exports,le={data:function(){return{payType:1,status:3,page:1,type:2,currPage:1,dialogTableVisible:!1,houselist:{},dlist:[],poId:"",intohouse:{poId:"",payType:"",page:""}}},filters:{sta:function(e){return 1==e?"新增":2==e?"已收货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}},methods:{requestLocal:function(){var e=this;f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},goodfirst:function(){var e=this;this.payType=1,this.status=3,f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},moneyfirst:function(){var e=this;this.payType=2,this.status=2,f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},premoneyfirst:function(){var e=this;this.payType=3,this.status=5,f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},detail:function(e){var t=this;this.poId=e.poId,f()({url:"/main/purchase/pomain/queryItem",mothod:"get",params:{poId:this.poId}}).then(function(e){t.dlist=e.data,console.log(t.dlist),t.dialogTableVisible=!0}).catch(function(e){console.log("没取到",e)}),this.dialogTableVisible=!0},inhouse:function(e){var t=this;confirm("确认入库吗？")&&(this.intohouse.poId=e.row.poId,this.intohouse.payType=e.row.payType,this.intohouse.page=e._self.page,console.log(this.intohouse),this.$store.dispatch("intoHouse",this.intohouse).then(function(){t.$notify({title:"成功",message:"入库成功",type:"success"}),f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:t.payType,page:t.page,type:t.type}}).then(function(e){t.houselist=e.data,console.log(t.houselist)}).catch(function(e){console.log("没取到",e)})}).catch(function(e){t.error=e,console.log("err",e)}))},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal()}},se={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("el-button-group",[o("el-button",{attrs:{type:"primary"},on:{click:e.goodfirst}},[e._v("货到付款")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.moneyfirst}},[e._v("款到发货")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.premoneyfirst}},[e._v("预付款发货")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.houselist.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poId",label:"采购单编号",width:"140"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"venderName",label:"供应商名字",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"110"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"产品购物总价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poTotal",label:"采购单总价",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("typ")(t.row.payType)))]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"prePayFee",label:"最低预付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("sta")(t.row.status)))]}}])}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.detail(t.row)}}},[e._v("详情")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.inhouse(t)}}},[e._v("入库")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"详情",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-table",{attrs:{data:e.dlist}},[o("el-table-column",{attrs:{property:"poId",label:"供货商编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{property:"productCode",label:"产品编号"}}),e._v(" "),o("el-table-column",{attrs:{property:"productName",label:"产品名字"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitPrice",label:"产品单价"}}),e._v(" "),o("el-table-column",{attrs:{property:"num",label:"产品数量"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitName",label:"数量单位"}}),e._v(" "),o("el-table-column",{attrs:{property:"itemPrice",label:"明细总价"}})],1)],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.houselist.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)},staticRenderFns:[]};var ne=o("VU/8")(le,se,!1,function(e){o("hmIO")},"data-v-1eb1f4b0",null).exports,ie={data:function(){return{payType:1,status:3,page:1,type:2,currPage:1,dialogTableVisible:!1,houselist:{},dlist:[],soId:"",outhouse:{soId:"",payType:"",page:""}}},filters:{sta:function(e){return 1==e?"新增":2==e?"已收货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}},methods:{requestLocal:function(){var e=this;f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},goodfirst:function(){var e=this;this.payType=1,this.status=3,f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},moneyfirst:function(){var e=this;this.payType=2,this.status=2,f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},premoneyfirst:function(){var e=this;this.payType=3,this.status=5,f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},detail:function(e){var t=this;this.soId=e.soId,f()({url:"/main/sell/somain/queryItem",mothod:"get",params:{soId:this.soId}}).then(function(e){t.dlist=e.data,console.log(t.dlist),t.dialogTableVisible=!0}).catch(function(e){console.log("没取到",e)}),this.dialogTableVisible=!0},ohouse:function(e){var t=this;confirm("确认出库吗？")&&(this.outhouse.soId=e.row.soId,this.outhouse.payType=e.row.payType,this.outhouse.page=e._self.page,console.log(this.outhouse),this.$store.dispatch("outHouse",this.outhouse).then(function(){t.$notify({title:"成功",message:"出库成功",type:"success"}),f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:t.payType,page:t.page,type:t.type}}).then(function(e){t.houselist=e.data,console.log(t.houselist)}).catch(function(e){console.log("没取到",e)})}).catch(function(e){t.error=e,console.log("err",e)}))},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal()}},ce={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("el-button-group",[o("el-button",{attrs:{type:"primary"},on:{click:e.goodfirst}},[e._v("货到付款")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.moneyfirst}},[e._v("款到发货")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.premoneyfirst}},[e._v("预付款发货")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.houselist.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soId",label:"销售单编号",width:"140"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"customerName",label:"客户名字",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"110"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"产品总价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soTotal",label:"销售单总价",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("typ")(t.row.payType)))]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"prePayFee",label:"最低预付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("sta")(t.row.status)))]}}])}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.detail(t.row)}}},[e._v("详情")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.ohouse(t)}}},[e._v("出库")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"详情",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-table",{attrs:{data:e.dlist}},[o("el-table-column",{attrs:{property:"productCode",label:"产品编号"}}),e._v(" "),o("el-table-column",{attrs:{property:"productName",label:"产品名字"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitPrice",label:"产品单价"}}),e._v(" "),o("el-table-column",{attrs:{property:"num",label:"产品数量"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitName",label:"数量单位"}}),e._v(" "),o("el-table-column",{attrs:{property:"itemPrice",label:"明细总价"}})],1)],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.houselist.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)},staticRenderFns:[]};var ue=o("VU/8")(ie,ce,!1,function(e){o("buRV")},"data-v-cfe36d1e",null).exports,pe={data:function(){return{user:{},page:1,apage:1,acurrPage:1,currPage:1,see:1,g:0,form:{productCode:"",name:"",min:0,max:""},productCode:"",stockType:1,a:{}}},methods:{inrecord:function(){var e=this;this.stockType=1,this.g=0,f()({url:"/main/stock/alterRecord",mothod:"get",params:{productCode:this.productCode,stockType:this.stockType,page:this.apage}}).then(function(t){e.a=t.data.data,console.log("111",e.a)}).catch(function(e){console.log("没取到",e)})},outrecord:function(){var e=this;this.stockType=2,this.g=1,this.apage=1,f()({url:"/main/stock/alterRecord",mothod:"get",params:{productCode:this.productCode,stockType:this.stockType,page:this.apage}}).then(function(t){e.a=t.data.data,console.log("111",e.a)}).catch(function(e){console.log("没取到",e)})},back:function(){this.see=1},openDetails:function(e){var t=this;this.see=0,this.productCode=e.productCode,f()({url:"/main/stock/alterRecord",mothod:"get",params:{productCode:this.productCode,stockType:this.stockType,page:this.apage}}).then(function(e){t.a=e.data.data,console.log("111",t.a)}).catch(function(e){console.log("没取到",e)})},requstLocal:function(){var e=this;f()({url:"/main/stock/query",mothod:"get"}).then(function(t){e.user=t.data,console.log("11",e.user)}).catch(function(e){console.log("没取到",e)})},onSubmit:function(){var e=this;console.log(this.form),f()({url:"/main/stock/query",mothod:"get",params:{productCode:this.form.productCode,min:parseInt(this.form.min),max:parseInt(this.form.max),name:this.form.name,status:this.form.status,page:this.page}}).then(function(t){e.user=t.data,console.log("11",e.user)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.onSubmit()},achangepage:function(e){var t=this;this.apage=e,console.log(this.apage),f()({url:"/main/stock/alterRecord",mothod:"get",params:{productCode:this.productCode,stockType:this.stockType,page:this.apage}}).then(function(e){t.a=e.data.data,console.log("111",t.a)}).catch(function(e){console.log("没取到",e)})}},mounted:function(){this.requstLocal()}},me={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.see,expression:"see==1"}]},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",{attrs:{label:"产品编号"}},[o("el-input",{attrs:{placeholder:"单号"},model:{value:e.form.productCode,callback:function(t){e.$set(e.form,"productCode",t)},expression:"form.productCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"产品名称"}},[o("el-input",{attrs:{placeholder:"单号"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"库存最小值"}},[o("el-input",{attrs:{placeholder:"单号"},model:{value:e.form.min,callback:function(t){e.$set(e.form,"min",t)},expression:"form.min"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"库存最大值"}},[o("el-input",{attrs:{placeholder:"单号"},model:{value:e.form.max,callback:function(t){e.$set(e.form,"max",t)},expression:"form.max"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user.list,border:""},on:{"row-click":e.openDetails}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productCode",label:"采购单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"产品名称",width:"198"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poNum",label:"库存数量",width:"198"}}),e._v(" "),o("el-table-column",{attrs:{prop:"num",label:"采购在途数",width:"198"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soNum",label:"预销售数",width:"198"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.see,expression:"see==0"}]},[o("el-button-group",[o("el-button",{attrs:{type:"primary"},on:{click:e.inrecord}},[e._v("入库记录")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.outrecord}},[e._v("出库记录")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.back}},[e._v("返回")])],1),e._v(" "),o("el-table",{directives:[{name:"show",rawName:"v-show",value:0==e.g,expression:"g==0"}],staticStyle:{width:"100%"},attrs:{data:e.a.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockTime",label:"入库时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"orderCode",label:"相关采购单号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createUser",label:"入库经手人",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockNum",label:"入库数量",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockType",label:"入库类型",width:"120"}})],1),e._v(" "),o("el-table",{directives:[{name:"show",rawName:"v-show",value:1==e.g,expression:"g==1"}],staticStyle:{width:"100%"},attrs:{data:e.a.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockTime",label:"出库时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"orderCode",label:"相关采购单号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createUser",label:"出库经手人",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockNum",label:"出库数量",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockType",label:"出库类型",width:"120"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.a.pages,"current-page":e.apage},on:{"current-change":e.achangepage}})],1)])},staticRenderFns:[]};var de=o("VU/8")(pe,me,!1,function(e){o("wHAq")},"data-v-e0e5e47a",null).exports,fe={data:function(){return{dialogFormVisible:!1,formLabelWidth:"120px",user:{},page:1,currPage:1,form:{productCode:"",originNum:"",num:"",type:"",description:"",page:""},response:{},rule:{num:[{required:!0,message:"请输入数字！",trigger:"blur"},{pattern:/^[1-9]\d*|0$/,message:"请输入非负整数",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}]}}},methods:{checkit:function(e){console.log("xx",e),this.form.productCode=e.row.productCode,this.form.originNum=e.row.num,this.form.page=e._self.page,this.dialogFormVisible=!0},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(console.log(t.form),f()({url:"/main/stock/checkstock",mothod:"get",params:{productCode:t.form.productCode,originNum:t.form.originNum,num:t.form.num,type:t.form.type,description:t.form.description,page:t.form.page}}).then(function(e){t.response=e.data,console.log("库存",t.response),t.$notify({title:"成功",type:"success"}),t.requestLocal(),t.dialogFormVisible=!1,t.form.num="",t.form.type="",t.form.description=""}).catch(function(e){console.log("没取到",e)}))})},requestLocal:function(){var e=this;f()({url:"/main/stock/query",mothod:"get",params:{page:this.page}}).then(function(t){e.user=t.data,console.log("库存",e.user)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal()}},he={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("div",[o("el-table",{staticStyle:{width:"80%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productCode",label:"采购单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"产品名称",width:"198"}}),e._v(" "),o("el-table-column",{attrs:{prop:"num",label:"库存数量",width:"198"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poNum",label:"采购在途数",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soNum",label:"预销售数",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.checkit(t)}}},[e._v("盘点")]),e._v(" "),o("el-dialog",{attrs:{title:"收货地址",visible:e.dialogFormVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[o("el-form-item",{attrs:{label:"变化数量","label-width":e.formLabelWidth,prop:"num"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"变化类型","label-width":e.formLabelWidth,prop:"type"}},[o("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[o("el-option",{attrs:{label:"损耗",value:"损耗"}}),e._v(" "),o("el-option",{attrs:{label:"盘余",value:"盘余"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"变化原因","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确 定")])],1)],1)]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)])},staticRenderFns:[]};var ge=o("VU/8")(fe,he,!1,function(e){o("utJ5")},"data-v-0e1eee89",null).exports,ve={data:function(){return{customer:{},see:1,page:1,currPage:1,deleteuser:{account:"",page:""},customerCode:"",form:{customerCode:"",name:"",passWord:"",contactor:"",address:"",postCode:"",createDate:"",tel:"",fax:""},rule:{customerCode:[{required:!0,message:"请输入客户编号！",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"},{pattern:/^[A-Za-z0-9]+$/,message:"只允许数字和字母",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"},{max:100,message:"不超过100个字符",trigger:"blur"}],passWord:[{required:!0,message:"密码不为空！",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"}],contactor:[{required:!0,message:"联系人不能为空",trigger:"blur"}],tel:[{required:!0,message:"电话不能为空",trigger:"blur"}]}}},methods:{requestLocal:function(){var e=this;f()({url:"/main/sell/customer/show",mothod:"get",params:{page:this.page}}).then(function(t){e.customer=t.data,console.log("11",e.customer)}).catch(function(e){console.log("没取到",e)})},changecum:function(e){console.log("obj=",e),this.see=0,this.form=e},delrow:function(e){var t=this;this.customerCode=e.customerCode,console.log(this.customerCode),confirm("是否继续删除？")&&(console.log(e),this.$store.dispatch("delCustomer",{customerCode:this.customerCode}).then(function(){t.$notify({title:"删除成功",type:"success"}),f()({url:"/main/sell/customer/show",mothod:"get",params:{page:t.page}}).then(function(e){t.customer=e.data,console.log("11",t.customer)}).catch(function(e){console.log("没取到",e)})}).catch(function(e){t.error=e,console.log(e)}))},back:function(){this.see=1},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$store.dispatch("changeCustomer",t.form).then(function(){t.$notify({title:"成功",message:"这是一条成功的提示消息",type:"success"}),f()({url:"/main/sell/customer/show",mothod:"get",params:{page:t.page}}).then(function(e){t.customer=e.data,console.log("11",t.customer)}).catch(function(e){console.log("没取到",e)}),t.see=1}).catch(function(e){t.error=e,console.log(e)})})},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal()}},be={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.see,expression:"see == 1"}],staticClass:"usermanager"},[o("router-link",{attrs:{to:"/sale/addcustomer"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[e._v("添加")])],1),e._v(" "),o("el-table",{staticStyle:{width:"95%"},attrs:{data:e.customer.list,border:""}},[o("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"customerCode",label:"客户编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"客户名称",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"contactor",label:"联系人",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"address",label:"地址",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"postCode",label:"邮政编码",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createDate",label:"注册日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tel",label:"电话",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"fax",label:"传真",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.changecum(t.row)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.delrow(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.customer.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.see,expression:"see == 0"}]},[o("div",{staticClass:"adduser"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{rules:e.rule,model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"客户编号",prop:"customerCode"}},[o("el-input",{attrs:{readonly:""},model:{value:e.form.customerCode,callback:function(t){e.$set(e.form,"customerCode",t)},expression:"form.customerCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户密码",prop:"passWord"}},[o("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"联系人",prop:"contactor"}},[o("el-input",{model:{value:e.form.contactor,callback:function(t){e.$set(e.form,"contactor",t)},expression:"form.contactor"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址"}},[o("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮政编码"}},[o("el-input",{model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"注册日期"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createDate,callback:function(t){e.$set(e.form,"createDate",t)},expression:"form.createDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话",prop:"tel"}},[o("el-input",{model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"传真"}},[o("el-input",{model:{value:e.form.fax,callback:function(t){e.$set(e.form,"fax",t)},expression:"form.fax"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即修改")]),e._v(" "),o("el-button",{on:{click:e.back}},[e._v("取消")])],1)],1)],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("基本信息")])])}]};var ye=o("VU/8")(ve,be,!1,function(e){o("4vFT")},"data-v-484227af",null).exports,_e={data:function(){return{form:{customerCode:"",name:"",passWord:"",contactor:"",address:"",postCode:"",createDate:"",tel:"",fax:""},rule:{customerCode:[{required:!0,message:"请输入客户编号！",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"},{pattern:/^[A-Za-z0-9]+$/,message:"只允许数字和字母",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"},{max:100,message:"不超过100个字符",trigger:"blur"}],passWord:[{required:!0,message:"密码不为空！",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"}],contactor:[{required:!0,message:"联系人不能为空",trigger:"blur"}],tel:[{required:!0,message:"电话不能为空",trigger:"blur"}]}}},methods:{addpassword:function(){this.form.passWord=this.form.customerCode},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(console.log("表单结果",t.form),t.$store.dispatch("addCustomer",t.form).then(function(){t.$notify({title:"成功",message:"新添客户",type:"success"}),t.$router.push("/sale/customer"),console.log(t.$router)}).catch(function(e){t.error=e,console.log(e)}))})},goback:function(){this.$router.push("/sale/customer")}},created:function(){this.form.createDate=T(new Date,"yyyy-MM-dd")}},we={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"adduser"},[e._m(0),e._v(" "),o("div",{staticClass:"formstyle"},[o("el-form",{ref:"form",attrs:{rules:e.rule,model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"客户编号",prop:"customerCode"}},[o("el-input",{on:{change:e.addpassword},model:{value:e.form.customerCode,callback:function(t){e.$set(e.form,"customerCode",t)},expression:"form.customerCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户密码",prop:"passWord"}},[o("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"联系人",prop:"contactor"}},[o("el-input",{model:{value:e.form.contactor,callback:function(t){e.$set(e.form,"contactor",t)},expression:"form.contactor"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"地址"}},[o("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"邮政编码"}},[o("el-input",{model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"注册日期"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createDate,callback:function(t){e.$set(e.form,"createDate",t)},expression:"form.createDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"电话",prop:"tel"}},[o("el-input",{model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"传真"}},[o("el-input",{model:{value:e.form.fax,callback:function(t){e.$set(e.form,"fax",t)},expression:"form.fax"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即添加")]),e._v(" "),o("el-button",{on:{click:e.goback}},[e._v("取消")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("span",[this._v("基本信息")])])}]};var ke=o("VU/8")(_e,we,!1,function(e){o("Va9E")},"data-v-8375a07a",null).exports,xe={data:function(){return{page:1,currPage:1,apage:1,acurrPage:1,detail:[],status:1,see:1,type:1,salelist:{},delform:{soId:"",page:""},queryform:{soId:"",venderCode:"",payType:"",startDate:"",endDate:""},form:{soId:"",customerCode:"",account:"",createTime:"",tipFee:"",productTotal:"",soTotal:"",payType:"",prePayFee:"",status:"",remark:"",soitems:[]},rule:{customerCode:[{required:!0,message:"请选择客户！",trigger:"change"}],payType:[{required:!0,message:"请选择付款方式",trigger:"change"}],status:[{required:!0,message:"请选择处理状态！",trigger:"change"}],soTotal:[{required:!0,message:"请添加明细",trigger:"change"}],tipFee:[{required:!0,message:"附加费用不能为空至少为非负数",trigger:"blur"}]},getcustomer:{},getproduct:{}}},methods:{addfee:function(){""!==this.form.soTotal&&(this.form.soTotal=parseFloat(this.form.tipFee)+parseFloat(this.form.productTotal))},changeunit:function(e){var t=this;console.log(e),f()({url:"/main/sell/product/show",mothod:"get",params:{productCode:e.productCode}}).then(function(o){t.gets=o.data,e.unitName=t.gets.list[0].unitName,e.unitPrice=t.gets.list[0].price,console.log(e),console.log(t.gets.list)}).catch(function(e){console.log("没取到",e)})},pricechange:function(e){console.log(e),e.itemPrice=parseFloat(e.unitPrice)*e.num,console.log(e.itemPrice),this.payAll()},payAll:function(){var e=0;console.log("this",this.form.soitems);for(var t=this.form.soitems.length-1;t>=0;t--)e+=this.form.soitems[t].itemPrice;console.log("total",e),this.form.productTotal=parseFloat(e),this.form.soTotal=parseFloat(e)+parseFloat(this.form.tipFee)},onSubmit:function(){var e=this;console.log(this.form),this.$store.dispatch("changeSale",this.form).then(function(){e.$notify({title:"成功",message:"修改成功",type:"success"}),f()({url:"/main/sell/somain/query",mothod:"get",params:{page:e.page,status:e.status}}).then(function(t){e.salelist=t.data,console.log("?",e.salelist)}).catch(function(e){console.log("没取到",e)}),e.see=1}).catch(function(t){e.error=t,console.log("err",t)})},query:function(){console.log(this.queryform),this.requestLocal()},requestLocal:function(){var e=this;f()({url:"/main/sell/somain/show",mothod:"get",params:{page:this.page,type:this.type}}).then(function(t){e.salelist=t.data,console.log("?",e.salelist)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()},achangepage:function(e){this.apage=e,console.log("??"+this.apage),this.customer()},poDetail:function(e){var t=this;this.see=0,console.log(e),f()({url:"/main/sell/somain/queryItem",mothod:"get",params:{soId:e.soId}}).then(function(e){t.detail=e.data,console.log(t.detail)}).catch(function(e){console.log("没取到",e)})},dellist:function(e){var t=this;confirm("确认删除吗？")&&(this.delform.soId=e.row.soId,this.delform.page=e._self.page,console.log(this.delform),this.$store.dispatch("delSale",this.delform).then(function(){t.$notify({title:"成功",message:"删除成功",type:"success"}),f()({url:"/main/sell/somain/query",mothod:"get",params:{page:t.page,status:t.status}}).then(function(e){t.salelist=e.data,console.log("?",t.salelist)}).catch(function(e){console.log("没取到",e)})}).catch(function(e){t.error=e,console.log("err",e)}))},customer:function(){var e=this;f()({url:"/main/sell/customer/show",mothod:"get",params:{page:this.apage}}).then(function(t){e.getcustomer=t.data,console.log(e.getcustomer)}).catch(function(e){console.log("没取到",e)})},back:function(){this.see=1},addData:function(){this.form.soitems.push({edit:!0,unitPrice:"",productCode:"",num:"",itemPrice:"",unitName:""})},confirmAdd:function(e){e.edit=!1},editData:function(e){e.edit=!0},deleteData:function(e,t){e.itemPrice&&(this.form.soTotal-=e.itemPrice,this.form.productTotal-=e.itemPrice),this.form.soitems.splice(t,1)},changeList:function(e){var t=this;f()({url:"/main/sell/somain/queryItem",mothod:"get",params:{soId:e.soId}}).then(function(o){t.detail=o.data,console.log(t.detail),t.see=2,t.form=e,t.form.soitems=t.detail,console.log(t.form)}).catch(function(e){console.log("没取到",e)})},getproducts:function(){var e=this;f()({url:"/main/sell/product/all",mothod:"get"}).then(function(t){e.getproduct=t.data,console.log(e.getproduct)}).catch(function(e){console.log("没取到",e)})}},mounted:function(){this.requestLocal(),this.customer(),this.getproducts()},filters:{sta:function(e){return 1==e?"新增":2==e?"已收货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}}},Te={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.see,expression:"see==1"}],staticClass:"category"},[o("router-link",{attrs:{to:"/sale/addsalelist"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[e._v("添加")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.salelist.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soId",label:"销售单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"customerCode",label:"客户编号",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"80"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:" 产品总价",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soTotal",label:"销售单总价",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n               "+e._s(e._f("typ")(t.row.payType))+"\n            ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"prePayFee",label:"最低预付金额",width:"110"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"销售单状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n               "+e._s(e._f("sta")(t.row.status))+"\n            ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"remark",label:"备注",width:"80"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.changeList(t.row)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.poDetail(t.row)}}},[e._v("查看")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.dellist(t)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.salelist.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.see,expression:"see==0"}],staticClass:"detail"},[o("el-table",{staticStyle:{width:"80%"},attrs:{data:this.detail,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soId",label:"产品编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productName",label:"产品名称",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"num",label:"产品数量",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"数量单位",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"unitPrice",label:"销售单价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"itemPrice",label:"销售明细总价",width:"120"}})],1),e._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.back}},[e._v("返回")])],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:2==e.see,expression:"see==2"}],staticClass:"addproduct"},[o("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,rules:e.rule,model:e.form}},[o("el-form-item",{attrs:{label:"销售单编号"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.soId,callback:function(t){e.$set(e.form,"soId",t)},expression:"form.soId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户选择",prop:"customerCode"}},[[o("el-select",{attrs:{placeholder:"请选择客户"},model:{value:e.form.customerCode,callback:function(t){e.$set(e.form,"customerCode",t)},expression:"form.customerCode"}},[e._l(e.getcustomer.list,function(t){return o("el-option",{key:t.customerCode,attrs:{value:t.customerCode}},[e._v(e._s(t.name)+"--"+e._s(t.customerCode))])}),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.getcustomer.pages,"current-page":e.apage},on:{"current-change":e.achangepage}})],2)]],2),e._v(" "),o("el-form-item",{staticStyle:{margin:"0 15px"},attrs:{label:"付款方式",prop:"payType"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},[o("el-option",{attrs:{label:"货到付款",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"款到发货",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"预付款到货",value:"3"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"创建用户"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"15px"},attrs:{label:"创建时间"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"13px"},attrs:{label:"附加费用",prop:"tipFee"}},[o("el-input",{attrs:{value:"0"},on:{input:e.addfee},model:{value:e.form.tipFee,callback:function(t){e.$set(e.form,"tipFee",t)},expression:"form.tipFee"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"15px"},attrs:{label:"产品总价"}},[o("el-input",{model:{value:e.form.productTotal,callback:function(t){e.$set(e.form,"productTotal",t)},expression:"form.productTotal"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"18px"},attrs:{label:"销售产品总价",prop:"soTotal"}},[o("el-input",{model:{value:e.form.soTotal,callback:function(t){e.$set(e.form,"soTotal",t)},expression:"form.soTotal"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"43px"},attrs:{label:"备注"}},[o("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"最低预付款"}},[o("el-input",{attrs:{value:"0"},model:{value:e.form.prePayFee,callback:function(t){e.$set(e.form,"prePayFee",t)},expression:"form.prePayFee"}})],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form.soitems,border:"",stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),o("el-table-column",{attrs:{label:"产品编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{placeholder:"产品编号"},on:{change:function(o){return e.changeunit(t.row,1)}},model:{value:t.row.productCode,callback:function(o){e.$set(t.row,"productCode",o)},expression:"scope.row.productCode"}},e._l(e.getproduct,function(t){return o("el-option",{key:t.productCode,attrs:{value:t.productCode}},[e._v(e._s(t.name))])}),1)]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"unitPrice",label:"销售单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"销售单价",readonly:""},model:{value:t.row.unitPrice,callback:function(o){e.$set(t.row,"unitPrice",o)},expression:"scope.row.unitPrice"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"num",label:"销售数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"销售数量"},on:{input:function(o){return e.pricechange(t.row)}},model:{value:t.row.num,callback:function(o){e.$set(t.row,"num",o)},expression:"scope.row.num"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"数量单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{readonly:"",placeholder:"数量单位"},model:{value:t.row.unitName,callback:function(o){e.$set(t.row,"unitName",o)},expression:"scope.row.unitName"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"itemPrice",label:"明细总价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"明细总价",readonly:""},model:{value:t.row.itemPrice,callback:function(o){e.$set(t.row,"itemPrice",o)},expression:"scope.row.itemPrice"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.confirmAdd(t.row)}}},[o("i",{staticClass:"el-icon-check",attrs:{"aria-hidden":"true"}})]):o("div",[o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.editData(t.row)}}},[o("i",{staticClass:"el-icon-edit",attrs:{"aria-hidden":"true"}})]),e._v(" "),o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.deleteData(t.row,t.$index)}}},[o("i",{staticClass:"el-icon-delete",attrs:{"aria-hidden":"true"}})])],1)]}}])})],1),e._v(" "),o("el-button",{attrs:{type:"text"},on:{click:e.addData}},[e._v("添加明细")]),e._v(" "),o("el-divider"),e._v(" "),o("el-button",{on:{click:e.onSubmit}},[e._v("提交 ")]),e._v(" "),o("el-button",{on:{click:e.back}},[e._v("取消 ")])],1)])},staticRenderFns:[]};var Ce=o("VU/8")(xe,Te,!1,function(e){o("9r9u")},"data-v-8accd9fc",null).exports,$e={data:function(){return{salelist:{},detail:[],page:1,currPage:1,form:{soId:"",customerCode:"",account:"",createTime:"",tipFee:0,productTotal:0,soTotal:"",payType:"",prePayFee:0,status:1,remark:"",soitems:[]},getcustomer:{},getproduct:{},rule:{customerCode:[{required:!0,message:"请选择客户！",trigger:"change"}],payType:[{required:!0,message:"请选择付款方式",trigger:"change"}],status:[{required:!0,message:"请选择处理状态！",trigger:"change"}],soTotal:[{required:!0,message:"请添加明细",trigger:"change"}],tipFee:[{required:!0,message:"附加费用不能为空至少为非负数",trigger:"blur"}]}}},methods:{addfee:function(){""!==this.form.soTotal&&(this.form.soTotal=parseFloat(this.form.tipFee)+parseFloat(this.form.productTotal))},changeunit:function(e){var t=this;console.log(e),f()({url:"/main/sell/product/show",mothod:"get",params:{productCode:e.productCode}}).then(function(o){t.gets=o.data,e.unitName=t.gets.list[0].unitName,e.unitPrice=t.gets.list[0].price,console.log(e),console.log(t.gets.list)}).catch(function(e){console.log("没取到",e)})},pricechange:function(e){e.unitPrice&&(console.log(e),e.itemPrice=parseFloat(e.unitPrice)*e.num,console.log(e.itemPrice),this.payAll())},payAll:function(){var e=0;console.log("this",this.form.soitems);for(var t=this.form.soitems.length-1;t>=0;t--)e+=this.form.soitems[t].itemPrice;console.log("total",e),this.form.productTotal=parseFloat(e),this.form.soTotal=parseFloat(e)+parseFloat(this.form.tipFee)},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(console.log(t.form),t.$store.dispatch("saleDetail",t.form).then(function(){t.$notify({title:"成功",message:"新添客户",type:"success"}),t.$router.push("/sale/salelist")}).catch(function(e){t.error=e,console.log("err",e)}))})},changepage:function(e){this.page=e,console.log(this.page),this.customer()},adddetail:function(){this.form.soitems.push(this.detailform)},addData:function(){this.form.soitems.push({edit:!0,unitPrice:"",productCode:"",num:"",itemPrice:"",unitName:""})},confirmAdd:function(e){e.edit=!1},editData:function(e){e.edit=!0},deleteData:function(e,t){e.itemPrice&&(this.form.soTotal-=e.itemPrice,this.form.productTotal-=e.itemPrice),this.form.soitems.splice(t,1)},customer:function(){var e=this;f()({url:"/main/sell/customer/show",mothod:"get",params:{page:this.page}}).then(function(t){e.getcustomer=t.data,console.log(e.getcustomer)}).catch(function(e){console.log("没取到",e)})},getproducts:function(){var e=this;f()({url:"/main/sell/product/all",mothod:"get"}).then(function(t){e.getproduct=t.data,console.log(e.getproduct)}).catch(function(e){console.log("没取到",e)})},submitData:function(){console.log(this.form)},goback:function(){this.$router.push("/sale/salelist")}},mounted:function(){this.form.createTime=T(new Date,"yyyy-MM-dd hh:mm:ss"),this.form.soId=T(new Date,"yyyyMMddhhmmss"),this.form.account=this.user.account,this.customer(),this.getproducts()},computed:p()({},Object(m.b)(["user"]))},qe={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"addproduct"},[o("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,rules:e.rule,model:e.form}},[o("el-form-item",{attrs:{label:"采购单编号"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.soId,callback:function(t){e.$set(e.form,"soId",t)},expression:"form.soId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户选择",prop:"customerCode"}},[[o("el-select",{attrs:{placeholder:"请选择客户"},model:{value:e.form.customerCode,callback:function(t){e.$set(e.form,"customerCode",t)},expression:"form.customerCode"}},[e._l(e.getcustomer.list,function(t){return o("el-option",{key:t.customerCode,attrs:{value:t.customerCode}},[e._v(e._s(t.name)+"--"+e._s(t.customerCode))])}),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.getcustomer.pages,"current-page":e.page},on:{"current-change":e.changepage}})],2)]],2),e._v(" "),o("el-form-item",{staticStyle:{margin:"0 15px"},attrs:{label:"付款方式",prop:"payType"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},[o("el-option",{attrs:{label:"货到付款",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"款到发货",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"预付款到货",value:"3"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"创建用户"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"15px"},attrs:{label:"创建时间"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"13px"},attrs:{label:"附加费用",prop:"tipFee"}},[o("el-input",{attrs:{value:"0"},on:{input:e.addfee},model:{value:e.form.tipFee,callback:function(t){e.$set(e.form,"tipFee",t)},expression:"form.tipFee"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"15px"},attrs:{label:"产品总价"}},[o("el-input",{model:{value:e.form.productTotal,callback:function(t){e.$set(e.form,"productTotal",t)},expression:"form.productTotal"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"18px"},attrs:{label:"销售单总价",prop:"soTotal"}},[o("el-input",{model:{value:e.form.soTotal,callback:function(t){e.$set(e.form,"soTotal",t)},expression:"form.soTotal"}})],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-left":"27px"},attrs:{label:"备注"}},[o("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"最低预付款"}},[o("el-input",{attrs:{value:"0"},model:{value:e.form.prePayFee,callback:function(t){e.$set(e.form,"prePayFee",t)},expression:"form.prePayFee"}})],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form.soitems,border:"",stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),o("el-table-column",{attrs:{label:"产品编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{placeholder:"产品编号"},on:{input:function(o){return e.changeunit(t.row)}},model:{value:t.row.productCode,callback:function(o){e.$set(t.row,"productCode",o)},expression:"scope.row.productCode"}},e._l(e.getproduct,function(t){return o("el-option",{key:t.produtCode,attrs:{value:t.productCode}},[e._v(e._s(t.name)+"--"+e._s(t.productCode))])}),1)]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"unitPrice",label:"销售单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"销售单价",readonly:""},model:{value:t.row.unitPrice,callback:function(o){e.$set(t.row,"unitPrice",o)},expression:"scope.row.unitPrice"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"num",label:"产品数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"产品数量"},on:{input:function(o){return e.pricechange(t.row)}},model:{value:t.row.num,callback:function(o){e.$set(t.row,"num",o)},expression:"scope.row.num"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"unitName",label:"数量单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"数量单位",readonly:""},model:{value:t.row.unitName,callback:function(o){e.$set(t.row,"unitName",o)},expression:"scope.row.unitName"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"itemPrice",label:"明细总价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"明细总价",readonly:""},model:{value:t.row.itemPrice,callback:function(o){e.$set(t.row,"itemPrice",o)},expression:"scope.row.itemPrice"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.confirmAdd(t.row)}}},[o("i",{staticClass:"el-icon-check",attrs:{"aria-hidden":"true"}})]):o("div",[o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.editData(t.row)}}},[o("i",{staticClass:"el-icon-edit",attrs:{"aria-hidden":"true"}})]),e._v(" "),o("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(o){return e.deleteData(t.row,t.$index)}}},[o("i",{staticClass:"el-icon-delete",attrs:{"aria-hidden":"true"}})])],1)]}}])})],1),e._v(" "),o("el-button",{attrs:{type:"text"},on:{click:e.addData}},[e._v("添加明细")]),e._v(" "),o("el-divider"),e._v(" "),o("el-button",{on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交 ")]),e._v(" "),o("el-button",{on:{click:e.goback}},[e._v("取消 ")])],1)},staticRenderFns:[]};var Se=o("VU/8")($e,qe,!1,function(e){o("EUtm")},"data-v-b52e3ca2",null).exports,Ie={data:function(){return{payType:1,status:3,page:1,currPage:1,dialogTableVisible:!1,endlist:{},dlist:[],soId:"",end:{soId:"",payType:"",page:""}}},methods:{over:function(e){var t=this;confirm("确认了结吗？")&&(console.log(e),this.end.soId=e.row.soId,this.end.payType=e.row.payType,this.end.page=e._self.page,console.log(this.end),this.$store.dispatch("endSale",this.end).then(function(){t.$notify({title:"成功",message:"成功了结",type:"success"}),f()({url:"/main/sell/somain/query",mothod:"get",params:{payType:t.payType,page:t.page,status:t.status}}).then(function(e){t.endlist=e.data,console.log(t.endlist)}).catch(function(e){console.log("没取到",e)})}).catch(function(e){t.error=e,console.log("err",e)}))},detail:function(e){var t=this;this.soId=e.soId,f()({url:"/main/sell/somain/queryItem",mothod:"get",params:{soId:this.soId}}).then(function(e){t.dlist=e.data,console.log(t.dlist),t.dialogTableVisible=!0}).catch(function(e){console.log("没取到",e)}),this.dialogTableVisible=!0},requestLocal:function(){var e=this;f()({url:"/main/sell/somain/query",mothod:"get",params:{payType:this.payType,page:this.page,status:this.status}}).then(function(t){e.endlist=t.data,console.log(e.endlist)}).catch(function(e){console.log("没取到",e)})},goodfirst:function(){var e=this;this.payType=1,this.status=3,f()({url:"/main/sell/somain/query",mothod:"get",params:{payType:this.payType,page:this.page,status:this.status}}).then(function(t){e.endlist=t.data,console.log(e.endlist)}).catch(function(e){console.log("没取到",e)})},moneyfirst:function(){var e=this;this.payType=2,this.status=2,f()({url:"/main/sell/somain/query",mothod:"get",params:{payType:this.payType,page:this.page,status:this.status}}).then(function(t){e.endlist=t.data,console.log(e.endlist)}).catch(function(e){console.log("没取到",e)})},premoneyfirst:function(){var e=this;this.payType=3,this.status=3,f()({url:"/main/sell/somain/query",mothod:"get",params:{payType:this.payType,page:this.page,status:this.status}}).then(function(t){e.endlist=t.data,console.log(e.endlist)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal()},filters:{sta:function(e){return 1==e?"新增":2==e?"已收货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}}},Fe={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("el-button-group",[o("el-button",{attrs:{type:"primary"},on:{click:e.goodfirst}},[e._v("货到付款")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.moneyfirst}},[e._v("款到发货")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.premoneyfirst}},[e._v("预付款发货")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.endlist.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soId",label:"销售单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"客户",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"110"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"产品购物总价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soTotal",label:"采购单总价",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("typ")(t.row.payType))+"\n        ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"prePayFee",label:"最低预付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("sta")(t.row.status))+"\n        ")]}}])}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.detail(t.row)}}},[e._v("详情")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.over(t)}}},[e._v("了结")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"详情",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-table",{attrs:{data:e.dlist}},[o("el-table-column",{attrs:{property:"productCode",label:"产品编号"}}),e._v(" "),o("el-table-column",{attrs:{property:"productName",label:"产品名字"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitPrice",label:"销售单价"}}),e._v(" "),o("el-table-column",{attrs:{property:"num",label:"产品数量"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitName",label:"数量单位"}}),e._v(" "),o("el-table-column",{attrs:{property:"itemPrice",label:"产品明细总价"}})],1)],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.endlist.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)},staticRenderFns:[]};var Pe=o("VU/8")(Ie,Fe,!1,function(e){o("qiH3")},"data-v-205ad99b",null).exports,De={data:function(){return{user:{},page:1,currPage:1,apage:1,acurrPage:1,form:{soId:"",customerCode:"",payType:"",startDate:"",endDate:"",status:""},getcustomer:{}}},methods:{onSubmit:function(){var e=this;console.log(this.form),f()({url:"/main/sell/somain/query",mothod:"get",params:{soId:this.form.soId,customerCode:this.form.customerCode,payType:this.form.payType,startDate:""===this.form.startDate?"":T(this.form.startDate,"yyyy-MM-dd hh:mm:ss"),endDate:""===this.form.endDate?"":T(this.form.endDate,"yyyy-MM-dd hh:mm:ss"),status:this.form.status,page:this.page}}).then(function(t){e.user=t.data,console.log("11",e.user)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.onSubmit()},achangepage:function(e){this.apage=e,console.log(this.apage),this.customer()},customer:function(){var e=this;f()({url:"/main/sell/customer/show",mothod:"get",params:{page:this.apage}}).then(function(t){e.getcustomer=t.data,console.log(e.getcustomer)}).catch(function(e){console.log("没取到",e)})}},mounted:function(){this.customer()},filters:{sta:function(e){return 1==e?"新增":2==e?"已收货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}}},Ne={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",{attrs:{label:"销售订单号"}},[o("el-input",{attrs:{placeholder:"单号"},model:{value:e.form.soId,callback:function(t){e.$set(e.form,"soId",t)},expression:"form.soId"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"客户编号"}},[[o("el-select",{attrs:{placeholder:"请选择客户"},model:{value:e.form.customerCode,callback:function(t){e.$set(e.form,"customerCode",t)},expression:"form.customerCode"}},[e._l(e.getcustomer.list,function(t){return o("el-option",{key:t.customerCode,attrs:{value:t.customerCode}},[e._v(e._s(t.name)+"--"+e._s(t.customerCode))])}),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.getcustomer.pages,"current-page":e.apage},on:{"current-change":e.achangepage}})],2)]],2),e._v(" "),o("el-form-item",{attrs:{label:"付款方式"}},[o("el-select",{model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},[o("el-option",{attrs:{label:"货到付款",value:"1"}},[e._v("货到付款")]),e._v(" "),o("el-option",{attrs:{label:"款到发货",value:"2"}},[e._v("款到发货")]),e._v(" "),o("el-option",{attrs:{label:"预付款发货",value:"3"}},[e._v("预付款发货")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"起始时间 | 结束时间"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.startDate,callback:function(t){e.$set(e.form,"startDate",t)},expression:"form.startDate"}}),e._v(" "),o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"处理状态"}},[o("el-select",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[o("el-option",{attrs:{label:"新增",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"已入库",value:"2"}},[e._v("已入库")]),e._v(" "),o("el-option",{attrs:{label:"已付款",value:"3"}},[e._v("已付款")]),e._v(" "),o("el-option",{attrs:{label:"已完结",value:"4"}},[e._v("已完结")]),e._v(" "),o("el-option",{attrs:{label:"已预付",value:"5"}},[e._v("已预付")])],1)],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soId",label:"销售单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"198"}}),e._v(" "),o("el-table-column",{attrs:{prop:"customerName",label:"客户名字",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"采购产品总价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soTotal",label:"采购总价格",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n    "+e._s(e._f("typ")(t.row.payType))+"\n    ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n    "+e._s(e._f("sta")(t.row.status))+"\n    ")]}}])})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)},staticRenderFns:[]};var Ve=o("VU/8")(De,Ne,!1,function(e){o("AiEe")},"data-v-bbe2e796",null).exports,Le={data:function(){return{payType:1,status:2,page:1,type:3,currPage:1,dialogTableVisible:!1,houselist:{},dlist:[],soId:"",intohouse:{soId:"",type:1,page:""}}},filters:{sta:function(e){return 1==e?"新增":2==e?"已到货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}},methods:{requestLocal:function(){var e=this;this.intohouse.type=1,f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},goodfirst:function(){var e=this;this.payType=1,this.intohouse.type=1,f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},moneyfirst:function(){var e=this;this.payType=2,this.intohouse.type=1,f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log(e.houselist)}).catch(function(e){console.log("没取到",e)})},premoneyfirst:function(){var e=this;this.payType=3,this.intohouse.type=2,f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.houselist=t.data,console.log("this.house",e.houselist)}).catch(function(e){console.log("没取到",e)})},detail:function(e){var t=this;this.soId=e.soId,f()({url:"/main/sell/somain/queryItem",mothod:"get",params:{soId:this.soId}}).then(function(e){t.dlist=e.data,console.log(t.dlist),t.dialogTableVisible=!0}).catch(function(e){console.log("没取到",e)}),this.dialogTableVisible=!0},inhouse:function(e){var t=this;confirm("确认入库吗？")&&(this.intohouse.soId=e.row.soId,this.intohouse.page=e._self.page,console.log(this.intohouse),this.$store.dispatch("intoCome",this.intohouse).then(function(){t.$notify({title:"成功",message:"收款成功",type:"success"}),f()({url:"/main/sell/somain/show",mothod:"get",params:{payType:t.payType,page:t.page,type:t.type}}).then(function(e){t.houselist=e.data,console.log(t.houselist)}).catch(function(e){console.log("没取到",e)})}).catch(function(e){t.error=e,console.log("err",e)}))},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal()}},Ee={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("el-button-group",[o("el-button",{attrs:{type:"primary"},on:{click:e.goodfirst}},[e._v("货到付款")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.moneyfirst}},[e._v("款到发货")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.premoneyfirst}},[e._v("预付款到发货")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.houselist.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soId",label:"销售单编号",width:"140"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"customerName",label:"客户",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"110"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"产品购物总价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soTotal",label:"销售单总价",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("typ")(t.row.payType)))]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"prePayFee",label:"最低预付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("sta")(t.row.status)))]}}])}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.detail(t.row)}}},[e._v("详情")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.inhouse(t)}}},[e._v("收款")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"详情",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-table",{attrs:{data:e.dlist}},[o("el-table-column",{attrs:{property:"soId",label:"销售单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{property:"productCode",label:"产品编号"}}),e._v(" "),o("el-table-column",{attrs:{property:"productName",label:"产品名字"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitPrice",label:"销售单价"}}),e._v(" "),o("el-table-column",{attrs:{property:"num",label:"产品数量"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitName",label:"数量单位"}}),e._v(" "),o("el-table-column",{attrs:{property:"itemPrice",label:"明细总价"}})],1)],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.houselist.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)},staticRenderFns:[]};var Me=o("VU/8")(Le,Ee,!1,function(e){o("WMUC")},"data-v-6ba41ef4",null).exports,Re={data:function(){return{payType:1,status:2,page:1,type:3,currPage:1,dialogTableVisible:!1,paylist:{},dlist:[],poId:"",intopay:{poId:"",type:1,page:""}}},filters:{sta:function(e){return 1==e?"新增":2==e?"已收货":3==e?"已付款":4==e?"已了结":5==e?"已预付":void 0},typ:function(e){return 1==e?"货到付款":2==e?"款到发货":3==e?"预付款到发货":void 0}},methods:{requestLocal:function(){var e=this;this.intopay.type=1,f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.paylist=t.data,console.log(e.paylist)}).catch(function(e){console.log("没取到",e)})},goodfirst:function(){var e=this;this.payType=1,this.intopay.type=1,f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.paylist=t.data,console.log(e.paylist)}).catch(function(e){console.log("没取到",e)})},moneyfirst:function(){var e=this;this.payType=2,this.intopay.type=1,f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.paylist=t.data,console.log(e.paylist)}).catch(function(e){console.log("没取到",e)})},premoneyfirst:function(){var e=this;this.payType=3,this.intopay.type=2,f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:this.payType,page:this.page,type:this.type}}).then(function(t){e.paylist=t.data,console.log("this.house",e.paylist)}).catch(function(e){console.log("没取到",e)})},detail:function(e){var t=this;this.poId=e.poId,f()({url:"/main/purchase/pomain/queryItem",mothod:"get",params:{poId:this.poId}}).then(function(e){t.dlist=e.data,console.log(t.dlist),t.dialogTableVisible=!0}).catch(function(e){console.log("没取到",e)}),this.dialogTableVisible=!0},inhouse:function(e){var t=this;confirm("确认付款吗？")&&(this.intopay.poId=e.row.poId,this.intopay.page=e._self.page,console.log(this.intopay),this.$store.dispatch("intoPay",this.intopay).then(function(){t.$notify({title:"成功",message:"付款成功",type:"success"}),f()({url:"/main/purchase/pomain/show",mothod:"get",params:{payType:t.payType,page:t.page,type:t.type}}).then(function(e){t.paylist=e.data,console.log(t.paylist)}).catch(function(e){console.log("没取到",e)})}).catch(function(e){t.error=e,console.log("err",e)}))},changepage:function(e){this.page=e,console.log(this.page),this.requestLocal()}},mounted:function(){this.requestLocal()}},We={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("el-button-group",[o("el-button",{attrs:{type:"primary"},on:{click:e.goodfirst}},[e._v("货到付款")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.moneyfirst}},[e._v("款到发货")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.premoneyfirst}},[e._v("预付款到发货")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.paylist.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poId",label:"采购单编号",width:"140"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"venderName",label:"供货商名称",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"110"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"附加费用",width:"90"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"采购产品总价",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poTotal",label:"采购单总价",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("typ")(t.row.payType)))]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"prePayFee",label:"最低预付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("sta")(t.row.status)))]}}])}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.detail(t.row)}}},[e._v("详情")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.inhouse(t)}}},[e._v("付款")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:"详情",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-table",{attrs:{data:e.dlist}},[o("el-table-column",{attrs:{property:"poId",label:"采购单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{property:"productCode",label:"产品编号"}}),e._v(" "),o("el-table-column",{attrs:{property:"productName",label:"产品名字"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitPrice",label:"采购单价"}}),e._v(" "),o("el-table-column",{attrs:{property:"num",label:"产品数量"}}),e._v(" "),o("el-table-column",{attrs:{property:"unitName",label:"数量单位"}}),e._v(" "),o("el-table-column",{attrs:{property:"itemPrice",label:"明细总价"}})],1)],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.paylist.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)},staticRenderFns:[]};var ze=o("VU/8")(Re,We,!1,function(e){o("FxnO")},"data-v-22eccda7",null).exports,Ae={data:function(){return{user:{},page:1,currPage:1,see:1,g:0,form:{type:"支出",startDate:"",endDate:"",payType:"",no:""},productCode:"",stockType:1,a:{}}},methods:{onSubmit:function(){"支出"==this.form.type?this.g=0:this.g=1,this.page=1,console.log(this.form),this.cpage()},cpage:function(){var e=this;f()({url:"/main/finance/query",mothod:"get",params:{type:this.form.type,startDate:this.form.startDate,endDate:this.form.endDate,payType:this.form.payType,no:this.form.no,page:this.page}}).then(function(t){e.user=t.data,console.log("11",e.user)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.onSubmit()}},mounted:function(){}},Ue={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("div",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",{attrs:{label:"开始日期"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.startDate,callback:function(t){e.$set(e.form,"startDate",t)},expression:"form.startDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"截止日期"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"收支类型："}},[o("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[o("el-radio",{attrs:{label:"支出",value:"支出"}},[e._v("支出")]),e._v(" "),o("el-radio",{attrs:{label:"收入",value:"收入"}},[e._v("收入")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"付款方式"}},[o("el-select",{model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},[o("el-option",{attrs:{label:"货到付款",value:"1"}},[e._v("货到付款")]),e._v(" "),o("el-option",{attrs:{label:"款到付货",value:"2"}},[e._v("款到付货")]),e._v(" "),o("el-option",{attrs:{label:"预付款到收货",value:"3"}},[e._v("预付款到收货")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"相关单据号"}},[o("el-input",{attrs:{placeholder:"单号"},model:{value:e.form.no,callback:function(t){e.$set(e.form,"no",t)},expression:"form.no"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),o("el-table",{directives:[{name:"show",rawName:"v-show",value:0==e.g,expression:"g==0"}],staticStyle:{width:"100%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payTime",label:"付款时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"ordercode",label:"相关单据号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"经手人",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payPrice",label:"付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"单据付款方式",width:"120"}})],1),e._v(" "),o("el-table",{directives:[{name:"show",rawName:"v-show",value:1==e.g,expression:"g==1"}],staticStyle:{width:"100%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payTime",label:"收款时间",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"ordercode",label:"相关单据号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"经手人",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payPrice",label:"付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"单据付款方式",width:"120"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":1},on:{"current-change":e.changepage}})],1)])},staticRenderFns:[]};var Oe=o("VU/8")(Ae,Ue,!1,function(e){o("ZOXE")},"data-v-f6966ddc",null).exports,He={data:function(){return{user:{},user2:{productTotal:"",total:"",totalNum:""},data:{},page:1,currPage:1,form:{name:"",poId:"",productCode:"",productTotal:"",stockNum:"",stockTime:""},productCode:"",stockType:1,time:""}},methods:{find:function(){var e=this;""===this.time?alert("请先选择时间"):f()({url:"/main/report/pomain/main",mothod:"get",params:{time:T(this.time,"yyyy-MM"),page:this.page}}).then(function(t){e.user=t.data.details,e.user2=t.data,console.log("11",e.user2)}).catch(function(e){console.log("没取到",e)})},onSubmit:function(){var e=this;"支出"==this.form.type?this.g=0:this.g=1,console.log(this.form),f()({url:"/main/finance/query",mothod:"get",params:{type:this.form.type,startDate:this.form.startDate,endDate:this.form.endDate,payType:this.form.payType,no:this.form.no,page:this.page}}).then(function(t){e.user=t.data,console.log("11",e.user)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.find()}},filters:{number:function(e){return isNaN(e)||""==e?"":e%1==0&&0!=e?e+".00":0==e?"":parseFloat(e).toFixed(2)}},mounted:function(){}},je={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("h1",[e._v("月度采购报表")]),e._v(" "),o("div",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"日期"}},[o("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")])],1)],1),e._v(" "),o("div",{staticClass:"data"},[o("span",[e._v("采购单总数："+e._s(e.user2.totalnum))]),e._v(" "),o("span",[e._v("已了结数："+e._s(e.user2.endtotalnum))]),e._v(" "),o("span",[e._v("采购单总金额："+e._s(e._f("number")(e.user2.pototal))+"元")]),e._v(" "),o("span",[e._v("已付款金额："+e._s(e._f("number")(e.user2.totalpay))+"元")])]),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poId",label:"采购单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"venderName",label:"供应商名称",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"创建日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"创建用户",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poTotal",label:"采购单总金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"未付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"prePayFee",label:"最低预付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"采购单状态",width:"120"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)])},staticRenderFns:[]};var Ze=o("VU/8")(He,je,!1,function(e){o("wAp0")},"data-v-0c81945c",null).exports,Ye={data:function(){return{user:{},user2:{productTotal:"",total:"",totalNum:""},data:{},page:1,currPage:1,form:{name:"",soId:"",productCode:"",productTotal:"",stockNum:"",stockTime:""},productCode:"",stockType:1,time:""}},methods:{find:function(){var e=this;""===this.time?alert("请先选择时间"):f()({url:"/main/report/somain/main",mothod:"get",params:{time:T(this.time,"yyyy-MM"),page:this.page}}).then(function(t){e.user=t.data.details,e.user2=t.data,console.log("11",e.user2)}).catch(function(e){console.log("没取到",e)})},onSubmit:function(){var e=this;"支出"==this.form.type?this.g=0:this.g=1,console.log(this.form),f()({url:"/main/finance/query",mothod:"get",params:{type:this.form.type,startDate:this.form.startDate,endDate:this.form.endDate,payType:this.form.payType,no:this.form.no,page:this.page}}).then(function(t){e.user=t.data,console.log("11",e.user)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.find()}},filters:{number:function(e){return isNaN(e)||""==e?"":e%1==0&&0!=e?e+".00":0==e?"":parseFloat(e).toFixed(2)}},mounted:function(){}},Be={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("h1",[e._v("月度销售报表")]),e._v(" "),o("div",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"日期"}},[o("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")])],1)],1),e._v(" "),o("div",{staticClass:"data"},[o("span",[e._v("采购单总数："+e._s(e.user2.totalnum))]),e._v(" "),o("span",[e._v("已了结数："+e._s(e.user2.endtotalnum))]),e._v(" "),o("span",[e._v("采购单总金额："+e._s(e._f("number")(e.user2.sototal))+"元")]),e._v(" "),o("span",[e._v("已付款金额："+e._s(e._f("number")(e.user2.totalpay))+"元")])]),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soId",label:"销售单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"customerCode",label:"客户编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"销售日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"经手人",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soTotal",label:"销售单总金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tipFee",label:"未付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"payType",label:"付款方式",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"120"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)])},staticRenderFns:[]};var Je=o("VU/8")(Ye,Be,!1,function(e){o("uif2")},"data-v-377d5f4c",null).exports,Xe={data:function(){return{user:{},user2:{productTotal:"",total:"",totalNum:""},data:{},page:1,currPage:1,form:{name:"",soId:"",productCode:"",productTotal:"",stockNum:"",stockTime:""},productCode:"",stockType:1,time:""}},methods:{find:function(){var e=this;""===this.time?alert("请先选择时间"):f()({url:"/main/report/outstock/main",mothod:"get",params:{time:T(this.time,"yyyy-MM"),page:this.page}}).then(function(t){e.user=t.data.details,e.user2=t.data,console.log("11",e.user2)}).catch(function(e){console.log("没取到",e)})},onSubmit:function(){var e=this;"支出"==this.form.type?this.g=0:this.g=1,console.log(this.form),f()({url:"/main/finance/query",mothod:"get",params:{type:this.form.type,startDate:this.form.startDate,endDate:this.form.endDate,payType:this.form.payType,no:this.form.no,page:this.page}}).then(function(t){e.user=t.data,console.log("11",e.user)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.find()}},filters:{number:function(e){return isNaN(e)||""==e?"":e%1==0&&0!=e?e+".00":0==e?"":parseFloat(e).toFixed(2)}},mounted:function(){}},Ge={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("h1",[e._v("月度出库报表")]),e._v(" "),o("div",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"日期"}},[o("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")])],1)],1),e._v(" "),o("div",{staticClass:"data"},[o("span",[e._v("出库单据数："+e._s(e.user2.total))]),e._v(" "),o("span",[e._v("产品总数量："+e._s(e.user2.totalNum))]),e._v(" "),o("span",[e._v("出库产品总金额："+e._s(e._f("number")(e.user2.productTotal))+"元")])]),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soId",label:"销售单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockTime",label:"出库日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productCode",label:"产品编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"产品名称",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockNum",label:"产品数",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"产品总金额",width:"120"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)])},staticRenderFns:[]};var Qe=o("VU/8")(Xe,Ge,!1,function(e){o("CU1F")},"data-v-664ea21e",null).exports,Ke={data:function(){return{user:{},user2:{productTotal:"",total:"",totalNum:""},data:{},page:1,currPage:1,form:{name:"",soId:"",productCode:"",productTotal:"",stockNum:"",stockTime:""},productCode:"",stockType:1,time:""}},methods:{find:function(){var e=this;""===this.time?alert("请先选择时间"):f()({url:"/main/report/instock/main",mothod:"get",params:{time:T(this.time,"yyyy-MM"),page:this.page}}).then(function(t){e.user=t.data.details,e.user2=t.data,console.log("11",e.user2)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.find()}},filters:{number:function(e){return isNaN(e)||""==e?"":e%1==0&&0!=e?e+".00":0==e?"":parseFloat(e).toFixed(2)}}},et={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("h1",[e._v("月度入库报表")]),e._v(" "),o("div",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"日期"}},[o("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")])],1)],1),e._v(" "),o("div",{staticClass:"data"},[o("span",[e._v("出库单据数："+e._s(e.user2.total))]),e._v(" "),o("span",[e._v("产品总数量："+e._s(e.user2.totalNum))]),e._v(" "),o("span",[e._v("出库产品总金额："+e._s(e._f("number")(e.user2.productTotal))+"元")])]),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poId",label:"采购单编号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockTime",label:"入库日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productCode",label:"产品编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"产品名称",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"stockNum",label:"产品数",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"productTotal",label:"产品总金额",width:"120"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)])},staticRenderFns:[]};var tt=o("VU/8")(Ke,et,!1,function(e){o("V4cZ")},"data-v-5ac71dc1",null).exports,ot={data:function(){return{user:{},user2:{productTotal:"",total:"",totalNum:""},data:{},page:1,currPage:1,form:{name:"",soId:"",productCode:"",productTotal:"",stockNum:"",stockTime:""},productCode:"",stockType:1,time:""}},methods:{find:function(){var e=this;""===this.time?alert("请先选择时间"):f()({url:"/main/report/stock/main",mothod:"get",params:{time:T(this.time,"yyyy-MM"),page:this.page}}).then(function(t){e.user=t.data.details,e.user2=t.data,console.log("11",e.user2)}).catch(function(e){console.log("没取到",e)})},changepage:function(e){this.page=e,console.log(this.page),this.find()}},filters:{number:function(e){return isNaN(e)||""==e?"":e%1==0&&0!=e?e+".00":0==e?"":parseFloat(e).toFixed(2)}}},at={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("h1",[e._v("月度入库报表")]),e._v(" "),o("div",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"日期"}},[o("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")])],1)],1),e._v(" "),o("div",{staticClass:"data"},[o("span",[e._v("产品总数量："+e._s(e.user2.totalNum))])]),e._v(" "),o("el-table",{staticStyle:{width:"51%"},attrs:{data:e.user.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"210"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"产品名称",width:"200"}}),e._v(" "),o("el-table-column",{attrs:{prop:"num",label:"库存数",width:"130"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1)])},staticRenderFns:[]};var rt=o("VU/8")(ot,at,!1,function(e){o("Rzgm")},"data-v-74d06613",null).exports,lt={data:function(){return{user:{},see:1,user2:{},user3:{},data:{},page:1,apage:1,currPage:1,form:{name:"",soId:"",productCode:"",productTotal:"",stockNum:"",stockTime:""},productCode:"",stockType:1,time:""}},methods:{find:function(){var e=this;""===this.time?alert("请先选择时间"):(1==this.see&&this.receipt(),0==this.see&&this.pay(),f()({url:"/main/report/payment/main",mothod:"get",params:{time:T(this.time,"yyyy-MM"),page:this.page}}).then(function(t){e.user=t.data,console.log("11",e.user)}).catch(function(e){console.log("没取到",e)}))},changepage:function(e){this.page=e,console.log(this.page),this.receipt()},achangepage:function(e){this.apage=e,console.log("apage",this.apage),this.pay()},receipt:function(){var e=this;this.see=1,f()({url:"/main/report/payment/detail/receipt",mothod:"get",params:{time:T(this.time,"yyyy-MM"),page:this.page}}).then(function(t){e.user2=t.data,console.log("11",e.user2)}).catch(function(e){console.log("没取到",e)})},pay:function(){var e=this;this.see=0,f()({url:"/main/report/payment/detail/pay",mothod:"get",params:{time:T(this.time,"yyyy-MM"),page:this.apage}}).then(function(t){e.user2=t.data,console.log("11",e.user2)}).catch(function(e){console.log("没取到",e)})}},filters:{number:function(e){return isNaN(e)||""==e?"":e%1==0&&0!=e?e+".00":0==e?"":parseFloat(e).toFixed(2)}}},st={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"usermanager"},[o("h1",[e._v("月度入库报表")]),e._v(" "),o("div",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"日期"}},[o("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.find}},[e._v("查询")])],1)],1),e._v(" "),o("div",{staticClass:"data"},[o("span",[e._v("收款总金额："+e._s(e._f("number")(e.user.recePrice))+"元")]),e._v(" "),o("span",[e._v("付款总金额："+e._s(e._f("number")(e.user.payPrice))+"元")]),e._v(" "),o("span",[e._v("收款交易次数："+e._s(e.user.receCount))]),e._v(" "),o("span",[e._v("付款交易次数："+e._s(e.user.payCount))])]),e._v(" "),o("div",{staticClass:"btn"},[o("el-button",{on:{click:e.receipt}},[e._v("收款明细")]),e._v(" "),o("el-button",{on:{click:e.pay}},[e._v("付款明细")])],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.see,expression:"see==1"}]},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user2.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"soId",label:"销售单号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"销售单日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"pay_time",label:"收款日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"pay_price",label:"收款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"经手人",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"120"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user2.pages,"current-page":e.page},on:{"current-change":e.changepage}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:0==e.see,expression:"see==0"}]},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user2.list,border:""}},[o("el-table-column",{attrs:{type:"index",label:"编号",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"poId",label:"采购单号",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"createTime",label:"采购日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"pay_time",label:"付款日期",width:"160"}}),e._v(" "),o("el-table-column",{attrs:{prop:"pay_price",label:"付款金额",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"account",label:"经手人",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"120"}})],1),e._v(" "),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*e.user2.pages,"current-page":e.apage},on:{"current-change":e.achangepage}})],1)],1)])},staticRenderFns:[]};var nt=o("VU/8")(lt,st,!1,function(e){o("8u1c")},"data-v-4625fb06",null).exports,it={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",[this._v("您当前权限不足，不能访问")])])}]};var ct=o("VU/8")({},it,!1,function(e){o("LCnd")},null,null).exports,ut=o("mvHQ"),pt=o.n(ut),mt=o("//Fk"),dt=o.n(mt),ft=o("1nuA");function ht(e,t){return f.a.post(e,ft.stringify(t),{headers:{"Content-type":"application/x-www-form-urlencoded"}})}function gt(e,t){return f.a.post(e,t,{headers:{"Content-Type":"application/json"}})}f.a.defaults.baseURL="http://localhost:9000",f.a.interceptors.request.use(function(e){return yt.state.token&&(e.headers.token=yt.state.token),e},function(e){return dt.a.reject(e)});var vt=o("lbHh"),bt=o.n(vt);a.default.use(m.a);var yt=new m.a.Store({state:{user:JSON.parse(bt.a.get("user")||"{}"),token:bt.a.get("token")},mutations:{user_mutation:function(e,t){e.user=t},token_mutation:function(e,t){e.token=t}},actions:{loginAction:function(e,t){return new dt.a(function(o,a){ht("/sys/login",t).then(function(t){var r=t.data;2===r.code?(e.commit("user_mutation",r.data.user),e.commit("token_mutation",r.data.token),console.log(r),bt.a.set("user",pt()(r.data.user)),bt.a.set("token",r.data.token),o()):a(r.message)})})},addAction:function(e,t){return new dt.a(function(e,o){ht("/main/system/user/add",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},changeAction:function(e,t){return new dt.a(function(e,o){ht("/main/system/user/update",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},deleteAction:function(e,t){return new dt.a(function(e,o){ht("/main/system/user/delete",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},addCategory:function(e,t){return new dt.a(function(e,o){ht("/main/sell/category/add",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},changecAction:function(e,t){return new dt.a(function(e,o){ht("/main/sell/category/update",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},delcAction:function(e,t){return new dt.a(function(e,o){ht("/main/sell/category/delete",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},addProduct:function(e,t){return new dt.a(function(e,o){ht("/main/sell/product/add",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},changepAction:function(e,t){return new dt.a(function(e,o){ht("/main/sell/product/update",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},delpAction:function(e,t){return new dt.a(function(e,o){ht("/main/sell/product/delete",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},addSupplier:function(e,t){return new dt.a(function(e,o){ht("/main/purchase/vender/add ",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},changeSupplier:function(e,t){return new dt.a(function(e,o){ht("/main/purchase/vender/update",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},delSupplier:function(e,t){return new dt.a(function(e,o){ht("/main/purchase/vender/delete",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},addDetail:function(e,t){return new dt.a(function(e,o){gt("/main/purchase/pomain/add",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},updateList:function(e,t){return new dt.a(function(e,o){gt("/main/purchase/pomain/update",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},delList:function(e,t){return new dt.a(function(e,o){ht("/main/purchase/pomain/delete",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},endAction:function(e,t){return new dt.a(function(e,o){ht("/main/purchase/pomain/end",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},intoHouse:function(e,t){return new dt.a(function(e,o){ht("/main/stock/instock",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},outHouse:function(e,t){return new dt.a(function(e,o){ht("/main/stock/outstock",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},addCustomer:function(e,t){return new dt.a(function(e,o){ht("/main/sell/customer/add",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},changeCustomer:function(e,t){return new dt.a(function(e,o){ht("/main/sell/customer/update",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},delCustomer:function(e,t){return new dt.a(function(e,o){ht("/main/sell/customer/delete",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},saleDetail:function(e,t){return new dt.a(function(e,o){gt("/main/sell/somain/add",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},changeSale:function(e,t){return new dt.a(function(e,o){gt("/main/sell/somain/update",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},delSale:function(e,t){return new dt.a(function(e,o){ht("/main/sell/somain/delete",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},endSale:function(e,t){return new dt.a(function(e,o){ht("/main/sell/somain/end",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},intoCome:function(e,t){return new dt.a(function(e,o){ht("/main/finance/receipt",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})},intoPay:function(e,t){return new dt.a(function(e,o){ht("/main/finance/pay",t).then(function(t){var a=t.data;2===a.code?e():o(a.message)})})}}});a.default.use(s.a);var _t=new s.a({routes:[{path:"/",name:"Login",component:c},{path:"/home",component:v,children:[{path:"",component:x},{path:"/user/manager",component:_,meta:{requireAuth:3,title:"用户管理"}},{path:"/user/adduser",component:S,meta:{title:"产品列表"}},{path:"/sale/allgoods",component:P,meta:{title:"产品列表"}},{path:"/sale/addgood",component:V,meta:{title:"产品添加"}},{path:"/sale/category",component:M,meta:{title:"产品分类管理"}},{path:"/sale/addcategory",component:z,meta:{title:"产品分类添加"}},{path:"/buy/supplier",component:O,meta:{title:"供应商管理"}},{path:"/buy/addsupplier",component:Z,meta:{title:"供应商添加"}},{path:"/buy/buylist",component:J,meta:{title:"采购单管理"}},{path:"/buy/addbuylist",component:Q,meta:{title:"采购单添加"}},{path:"/buy/query",component:te,meta:{title:"采购单查询"}},{path:"/buy/endlist",component:re,meta:{title:"采购单了结"}},{path:"/warehouse/register",component:ne,meta:{title:"入库登记"}},{path:"/warehouse/out",component:ue,meta:{title:"出库登记"}},{path:"/warehouse/queryhouse",component:de,meta:{title:"库存查询"}},{path:"/warehouse/check",component:ge,meta:{title:"库存盘点"}},{path:"/sale/customer",component:ye,meta:{title:"客户管理"}},{path:"/sale/addcustomer",component:ke,meta:{title:"客户添加"}},{path:"/sale/salelist",component:Ce,meta:{title:"销售单"}},{path:"/sale/addsalelist",component:Se,meta:{title:"新添销售单"}},{path:"/sale/oversale",component:Pe,meta:{title:"销售单了结"}},{path:"/sale/salequery",component:Ve,meta:{title:"销售单查询"}},{path:"/pay/income",component:Me,meta:{title:"收款登记"}},{path:"/pay/payrecord",component:ze,meta:{title:"付款登记"}},{path:"/pay/indexof",component:Oe,meta:{title:"收支查询"}},{path:"/report/poreport",component:Ze,meta:{title:"月度采购报表"}},{path:"/report/soreport",component:Je,meta:{title:"月度销售报表"}},{path:"/report/outreport",component:Qe,meta:{title:"月度出库报表"}},{path:"/report/inreport",component:tt,meta:{title:"月度入库报表"}},{path:"/report/storereport",component:rt,meta:{title:"月度库存报表"}},{path:"/report/payreport",component:nt,meta:{title:"月度收支报表"}},{path:"/deny",component:ct}],meta:{requireLogin:!0}}]});_t.beforeEach(function(e,t,o){var a=e.path;console.log(e,111),a.startsWith("/buy/")&&yt.state.user.models.find(function(e){return 1===e.modelCode})?o():a.startsWith("/sale/")&&yt.state.user.models.find(function(e){return 2===e.modelCode})?o():a.startsWith("/user/")&&yt.state.user.models.find(function(e){return 3===e.modelCode})?o():a.startsWith("/pay/")&&yt.state.user.models.find(function(e){return 4===e.modelCode})?o():a.startsWith("/warehouse/")&&yt.state.user.models.find(function(e){return 5===e.modelCode})?o():a.startsWith("/report/")&&yt.state.user.models.find(function(e){return 6===e.modelCode})?o():"/"===a?o():"/home"!==a&&"/deny"!==a||!yt.state.user?o("/deny"):o()});var wt=_t,kt=(o("tvR6"),o("zL8q")),xt=o.n(kt);a.default.use(xt.a),a.default.config.productionTip=!1,a.default.filter("dateFormat",function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1+"").padStart(2,"0")+"-"+(t.getDate()+"").padStart(2,"0")+" "+(t.getHours()+"").padStart(2,"0")+":"+(t.getMinutes()+"").padStart(2,"0")+":"+(t.getSeconds()+"").padStart(2,"0")}),new a.default({el:"#app",router:wt,store:yt,components:{App:l},template:"<App/>"})},OPNI:function(e,t){},RoZ4:function(e,t){},Rzgm:function(e,t){},V4cZ:function(e,t){},Va9E:function(e,t){},WMUC:function(e,t){},ZOXE:function(e,t){},bo7V:function(e,t){},buRV:function(e,t){},"dx+d":function(e,t){},hLB6:function(e,t){},hmIO:function(e,t){},qiH3:function(e,t){},tvR6:function(e,t){},uif2:function(e,t){},utJ5:function(e,t){},wAp0:function(e,t){},wHAq:function(e,t){},"xR/0":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c7ad6f194d96a109789e.js.map